(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{5261:function(e,t,r){Promise.resolve().then(r.bind(r,3488))},3488:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return a}});var n=r(2872),s=r(4209),u=r(5358),o=r(6045),i=r(5543);function a(){let[e,t]=(0,s.useState)(""),[r,a]=(0,s.useState)(""),[l,d]=(0,s.useState)(""),c=(0,u.useRouter)(),{login:m}=(0,i.useAuth)(),h=async t=>{t.preventDefault(),d("");let n=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:r})});if(n.ok){let{user:e}=await n.json();m(e.id),c.push("/dashboard")}else{let{message:e}=await n.json();d(e||"Failed to login")}};return(0,n.jsx)("div",{className:"min-h-screen bg-gray-900 text-white flex items-center justify-center",children:(0,n.jsxs)("div",{className:"bg-gray-800/50 p-8 rounded-lg shadow-lg w-full max-w-md",children:[(0,n.jsx)("h1",{className:"text-3xl font-bold text-center mb-6",children:"Control Panel Login"}),(0,n.jsxs)("form",{onSubmit:h,children:[(0,n.jsxs)("div",{className:"mb-4",children:[(0,n.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300 mb-2",children:"Email Address"}),(0,n.jsx)("input",{type:"email",id:"email",value:e,onChange:e=>t(e.target.value),className:"w-full p-3 bg-gray-700 rounded-md border border-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,n.jsxs)("div",{className:"mb-6",children:[(0,n.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300 mb-2",children:"Password"}),(0,n.jsx)("input",{type:"password",id:"password",value:r,onChange:e=>a(e.target.value),className:"w-full p-3 bg-gray-700 rounded-md border border-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),l&&(0,n.jsx)("p",{className:"text-red-500 text-sm text-center mb-4",children:l}),(0,n.jsx)(o.z,{type:"submit",className:"w-full",children:"Login"})]})]})})}},5543:function(e,t,r){"use strict";r.r(t),r.d(t,{AuthProvider:function(){return o},useAuth:function(){return i}});var n=r(2872),s=r(4209);let u=(0,s.createContext)(void 0),o=e=>{let{children:t}=e,[r,o]=(0,s.useState)(!1);return(0,n.jsx)(u.Provider,{value:{isAuthenticated:r,login:e=>{e&&o(!0)},logout:()=>{o(!1)}},children:t})},i=()=>{let e=(0,s.useContext)(u);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},5358:function(e,t,r){"use strict";var n=r(230);r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}})},6045:function(e,t,r){"use strict";r.d(t,{z:function(){return s}});var n=r(2872);function s(e){let{children:t,className:r="",...s}=e;return(0,n.jsx)("button",{className:"px-5 py-2.5 text-base cursor-pointer bg-blue-600 text-white border-0 rounded-md hover:bg-blue-700 transition-colors ".concat(r),...s,children:t})}r(4209)}},function(e){e.O(0,[577,726,744],function(){return e(e.s=5261)}),_N_E=e.O()}]);