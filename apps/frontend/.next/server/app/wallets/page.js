(()=>{var e={};e.id=982,e.ids=[982],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},8516:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>d,routeModule:()=>h,tree:()=>c});var r=s(8920),a=s(8584),n=s(5445),l=s.n(n),i=s(4532),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);s.d(t,o);let c=["",{children:["wallets",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,6463)),"C:\\Users\\User1\\Downloads\\TradingBot\\apps\\frontend\\src\\app\\wallets\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,6573)),"C:\\Users\\User1\\Downloads\\TradingBot\\apps\\frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,4769,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Users\\User1\\Downloads\\TradingBot\\apps\\frontend\\src\\app\\wallets\\page.tsx"],u="/wallets/page",m={require:s,loadChunk:()=>Promise.resolve()},h=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/wallets/page",pathname:"/wallets",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},9211:(e,t,s)=>{Promise.resolve().then(s.bind(s,7848))},3907:(e,t,s)=>{Promise.resolve().then(s.bind(s,6603))},4059:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,4372,23)),Promise.resolve().then(s.t.bind(s,7103,23)),Promise.resolve().then(s.t.bind(s,9655,23)),Promise.resolve().then(s.t.bind(s,3334,23)),Promise.resolve().then(s.t.bind(s,1394,23)),Promise.resolve().then(s.t.bind(s,958,23))},6603:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});var r=s(2610),a=s(7933),n=s(7408),l=s(157);function i(){let[e,t]=(0,a.useState)([]),[s,i]=(0,a.useState)(!0),[o,c]=(0,a.useState)(""),[d,u]=(0,a.useState)(!1);(0,a.useEffect)(()=>{m()},[]);let m=async()=>{try{i(!0);let e=await fetch("/api/wallets",{method:"GET",credentials:"include"});if(e.ok){let s=await e.json();t(s.wallets||[])}else c("Failed to load wallet connections")}catch(e){console.error("Error fetching wallets:",e),c("Network error. Please try again.")}finally{i(!1)}},h=async e=>{u(!0),c("");try{if("metamask"===e){if(void 0===window.ethereum){c("MetaMask is not installed. Please install MetaMask to continue.");return}let e=await window.ethereum.request({method:"eth_request_accounts"});if(e.length>0){let t=e[0],s=await fetch("/api/wallets/connect",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({address:t,type:"metamask"})});if(s.ok)await m();else{let e=await s.json();c(e.message||"Failed to connect wallet")}}}else"walletconnect"===e&&c("WalletConnect integration coming soon. Please use MetaMask for now.")}catch(e){console.error("Wallet connection error:",e),4001===e.code?c("Wallet connection was rejected. Please try again."):c("Failed to connect wallet. Please try again.")}finally{u(!1)}},x=async e=>{try{(await fetch(`/api/wallets/${e}`,{method:"DELETE",credentials:"include"})).ok?await m():c("Failed to disconnect wallet")}catch(e){console.error("Error disconnecting wallet:",e),c("Network error. Please try again.")}};return r.jsx(l.Z,{children:(0,r.jsxs)("div",{className:"min-h-screen bg-gray-900 text-white p-8",children:[(0,r.jsxs)("header",{className:"mb-10",children:[r.jsx("h1",{className:"text-3xl font-bold",children:"Wallet Management"}),r.jsx("p",{className:"text-gray-400",children:"Connect your wallets securely for trading bot operations. Your private keys never leave your wallet."})]}),(0,r.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,r.jsxs)("div",{className:"bg-green-900/20 border-l-4 border-green-500 text-green-200 p-4 rounded-md mb-8",role:"alert",children:[r.jsx("p",{className:"font-bold",children:"\uD83D\uDD12 Secure Connection"}),r.jsx("p",{children:"We use secure wallet connection protocols. Your private keys remain safely in your wallet and are never transmitted or stored on our servers."})]}),(0,r.jsxs)("div",{className:"bg-gray-800/50 p-6 rounded-lg shadow-lg mb-8",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Connect New Wallet"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(n.z,{onClick:()=>h("metamask"),disabled:d,className:"h-16",children:"\uD83E\uDD8A MetaMask"}),r.jsx(n.z,{onClick:()=>h("walletconnect"),disabled:d,className:"h-16",children:"\uD83D\uDCF1 WalletConnect"})]})]}),o&&r.jsx("div",{className:"mb-6 p-4 bg-red-900/50 border border-red-500 rounded-md",children:r.jsx("p",{className:"text-red-200",role:"alert",children:o})}),(0,r.jsxs)("div",{className:"bg-gray-800/50 p-6 rounded-lg shadow-lg",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Connected Wallets"}),s?(0,r.jsxs)("div",{className:"flex items-center justify-center py-8",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),r.jsx("span",{className:"ml-2 text-gray-400",children:"Loading wallets..."})]}):0===e.length?(0,r.jsxs)("div",{className:"text-center py-8 text-gray-400",children:[r.jsx("p",{children:"No wallets connected yet."}),r.jsx("p",{className:"text-sm",children:"Connect a wallet above to get started."})]}):r.jsx("div",{className:"space-y-4",children:e.map(e=>(0,r.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-700/50 rounded-lg",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"text-2xl",children:"metamask"===e.type?"\uD83E\uDD8A":"walletconnect"===e.type?"\uD83D\uDCF1":"\uD83D\uDD10"}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"font-medium",children:[e.address.slice(0,6),"...",e.address.slice(-4)]}),(0,r.jsxs)("div",{className:"text-sm text-gray-400 capitalize",children:[e.type," • Balance: ",e.balance," ETH"]})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[r.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${e.isActive?"bg-green-900/50 text-green-300":"bg-gray-600 text-gray-300"}`,children:e.isActive?"Active":"Inactive"}),r.jsx(n.z,{onClick:()=>x(e.id),className:"text-red-400 hover:text-red-300",children:"Disconnect"})]})]},e.id))})]}),(0,r.jsxs)("div",{className:"mt-8 bg-blue-900/20 border-l-4 border-blue-500 text-blue-200 p-4 rounded-md",children:[r.jsx("p",{className:"font-bold",children:"\uD83D\uDCA1 How it works"}),(0,r.jsxs)("ul",{className:"mt-2 space-y-1 text-sm",children:[r.jsx("li",{children:"• Connect your wallet using secure protocols (MetaMask, WalletConnect)"}),r.jsx("li",{children:"• Your private keys never leave your wallet"}),r.jsx("li",{children:"• Trading bots will request transaction approval from your wallet"}),r.jsx("li",{children:"• You maintain full control and can disconnect at any time"})]})]})]})]})})}},157:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var r=s(2610),a=s(7933),n=s(3943),l=s(7848);function i({children:e}){let{isAuthenticated:t,isLoading:s}=(0,l.useAuth)(),i=(0,n.useRouter)();return((0,a.useEffect)(()=>{s||t||i.replace("/login")},[t,s,i]),s)?r.jsx("div",{className:"min-h-screen bg-gray-900 text-white flex items-center justify-center",children:(0,r.jsxs)("div",{className:"flex flex-col items-center space-y-4",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"}),r.jsx("p",{className:"text-gray-400",children:"Verifying authentication..."})]})}):t?r.jsx(r.Fragment,{children:e}):null}},7848:(e,t,s)=>{"use strict";s.r(t),s.d(t,{AuthProvider:()=>l,useAuth:()=>i});var r=s(2610),a=s(7933);let n=(0,a.createContext)(void 0),l=({children:e})=>{let[t,s]=(0,a.useState)(null),[l,i]=(0,a.useState)(!1),[o,c]=(0,a.useState)(!0),d=async()=>{try{let e=await fetch("/api/auth/me",{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}});if(e.ok){let t=await e.json();t.success&&t.user?(s(t.user),i(!0)):(s(null),i(!1))}else s(null),i(!1)}catch(e){console.error("Auth check failed:",e),s(null),i(!1)}finally{c(!1)}},u=async(e,t)=>{try{if(c(!0),!e||!t)return{success:!1,message:"Email and password are required"};if(!e.includes("@")||e.length<5)return{success:!1,message:"Please enter a valid email address"};if(t.length<8)return{success:!1,message:"Password must be at least 8 characters"};let r=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:e.toLowerCase().trim(),password:t})}),a=await r.json();if(r.ok&&a.success)return s(a.user),i(!0),{success:!0};return s(null),i(!1),{success:!1,message:a.message||"Login failed. Please check your credentials."}}catch(e){return console.error("Login error:",e),s(null),i(!1),{success:!1,message:"Network error. Please check your connection and try again."}}finally{c(!1)}},m=async()=>{try{await fetch("/api/auth/logout",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"}})}catch(e){console.error("Logout error:",e)}finally{s(null),i(!1)}};return(0,a.useEffect)(()=>{d();let e=()=>{"visible"===document.visibilityState&&l&&d()};return document.addEventListener("visibilitychange",e),()=>document.removeEventListener("visibilitychange",e)},[]),(0,a.useEffect)(()=>{if(!l)return;let e=setInterval(()=>{d()},3e5);return()=>clearInterval(e)},[l]),r.jsx(n.Provider,{value:{user:t,isAuthenticated:l,isLoading:o,login:u,logout:m,checkAuth:d},children:e})},i=()=>{let e=(0,a.useContext)(n);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},3943:(e,t,s)=>{"use strict";var r=s(8740);s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}})},7408:(e,t,s)=>{"use strict";s.d(t,{z:()=>a});var r=s(2610);function a({children:e,className:t="",...s}){return r.jsx("button",{className:`px-5 py-2.5 text-base cursor-pointer bg-blue-600 text-white border-0 rounded-md hover:bg-blue-700 transition-colors ${t}`,...s,children:e})}s(7933)},6573:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>m,metadata:()=>u});var r=s(9127),a=s(7883),n=s.n(a);s(9780);var l=s(970);let i=(0,l.createProxy)(String.raw`C:\Users\User1\Downloads\TradingBot\apps\frontend\src\context\AuthContext.tsx`),{__esModule:o,$$typeof:c}=i;i.default;let d=(0,l.createProxy)(String.raw`C:\Users\User1\Downloads\TradingBot\apps\frontend\src\context\AuthContext.tsx#AuthProvider`);(0,l.createProxy)(String.raw`C:\Users\User1\Downloads\TradingBot\apps\frontend\src\context\AuthContext.tsx#useAuth`);let u={title:"Trading Bot Control Panel",description:"Manage your multi-chain trading bots with advanced risk management and analytics.",viewport:"width=device-width, initial-scale=1",robots:"noindex, nofollow",authors:[{name:"Trading Bot Team"}]};function m({children:e}){return r.jsx("html",{lang:"en",children:r.jsx("body",{className:n().className,children:r.jsx(d,{children:e})})})}},6463:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>n,__esModule:()=>a,default:()=>l});let r=(0,s(970).createProxy)(String.raw`C:\Users\User1\Downloads\TradingBot\apps\frontend\src\app\wallets\page.tsx`),{__esModule:a,$$typeof:n}=r,l=r.default},9780:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[807,245],()=>s(8516));module.exports=r})();