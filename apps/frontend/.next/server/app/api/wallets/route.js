"use strict";(()=>{var e={};e.id=448,e.ids=[448],e.modules={7831:e=>{e.exports=require("@solana/web3.js")},5890:e=>{e.exports=require("better-sqlite3")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},4300:e=>{e.exports=require("buffer")},6113:e=>{e.exports=require("crypto")},2361:e=>{e.exports=require("events")},7147:e=>{e.exports=require("fs")},3685:e=>{e.exports=require("http")},5687:e=>{e.exports=require("https")},1808:e=>{e.exports=require("net")},9563:e=>{e.exports=require("os")},1017:e=>{e.exports=require("path")},5477:e=>{e.exports=require("punycode")},2781:e=>{e.exports=require("stream")},4404:e=>{e.exports=require("tls")},7310:e=>{e.exports=require("url")},9796:e=>{e.exports=require("zlib")},9046:(e,t,r)=>{r.r(t),r.d(t,{headerHooks:()=>i5,originalPathname:()=>i6,patchFetch:()=>i8,requestAsyncStorage:()=>i0,routeModule:()=>i2,serverHooks:()=>i4,staticGenerationAsyncStorage:()=>i3,staticGenerationBailout:()=>i7});var n,i,s,a,o,l,u,h,c={};r.r(c),r.d(c,{dQ:()=>eu,ci:()=>ee,bytesToNumberBE:()=>en,ty:()=>ei,eV:()=>el,n$:()=>ef,ql:()=>eo,hexToBytes:()=>er,tL:()=>es,S5:()=>ea,FF:()=>ep});var f={};r.r(f),r.d(f,{DELETE:()=>iQ,GET:()=>iJ,POST:()=>iX,PUT:()=>i1});var d=r(5649),p=r(8584),y=r(5144),g=r(7180),m=r(1304),w=r(1376),b=r(4538),v=r(5113),E=r(2812);function I(e){if(!Number.isSafeInteger(e)||e<0)throw Error(`Wrong positive integer: ${e}`)}function P(e,...t){if(!(e instanceof Uint8Array))throw Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function A(e){if("function"!=typeof e||"function"!=typeof e.create)throw Error("Hash should be wrapped by utils.wrapConstructor");I(e.outputLen),I(e.blockLen)}function N(e,t=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")}function x(e,t){P(e);let r=t.outputLen;if(e.length<r)throw Error(`digestInto() expects output buffer of length at least ${r}`)}let O=require("node:crypto");var R=r.t(O,2);let S=R&&"object"==typeof R&&"webcrypto"in R?O.webcrypto:void 0,T=e=>e instanceof Uint8Array,k=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),U=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),B=(e,t)=>e<<32-t|e>>>t;if(68!==new Uint8Array(new Uint32Array([287454020]).buffer)[0])throw Error("Non little-endian hardware is not supported");let L=async()=>{};async function C(e,t,r){let n=Date.now();for(let i=0;i<e;i++){r(i);let e=Date.now()-n;e>=0&&e<t||(await L(),n+=e)}}function F(e){if("string"==typeof e&&(e=function(e){if("string"!=typeof e)throw Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}(e)),!T(e))throw Error(`expected Uint8Array, got ${typeof e}`);return e}class D{clone(){return this._cloneInto()}}let $={}.toString;function G(e,t){if(void 0!==t&&"[object Object]"!==$.call(t))throw Error("Options should be object or undefined");return Object.assign(e,t)}function M(e){let t=t=>e().update(F(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function _(e=32){if(S&&"function"==typeof S.getRandomValues)return S.getRandomValues(new Uint8Array(e));throw Error("crypto.getRandomValues must be defined")}class V extends D{constructor(e,t,r,n){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=U(this.buffer)}update(e){N(this);let{view:t,buffer:r,blockLen:n}=this,i=(e=F(e)).length;for(let s=0;s<i;){let a=Math.min(n-this.pos,i-s);if(a===n){let t=U(e);for(;n<=i-s;s+=n)this.process(t,s);continue}r.set(e.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===n&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){N(this),x(e,this),this.finished=!0;let{buffer:t,view:r,blockLen:n,isLE:i}=this,{pos:s}=this;t[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>n-s&&(this.process(r,0),s=0);for(let e=s;e<n;e++)t[e]=0;(function(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);let i=BigInt(32),s=BigInt(4294967295),a=Number(r>>i&s),o=Number(r&s),l=n?4:0,u=n?0:4;e.setUint32(t+l,a,n),e.setUint32(t+u,o,n)})(r,n-8,BigInt(8*this.length),i),this.process(r,0);let a=U(e),o=this.outputLen;if(o%4)throw Error("_sha2: outputLen should be aligned to 32bit");let l=o/4,u=this.get();if(l>u.length)throw Error("_sha2: outputLen bigger than state");for(let e=0;e<l;e++)a.setUint32(4*e,u[e],i)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:t,buffer:r,length:n,finished:i,destroyed:s,pos:a}=this;return e.length=n,e.pos=a,e.finished=i,e.destroyed=s,n%t&&e.buffer.set(r),e}}let j=(e,t,r)=>e&t^~e&r,K=(e,t,r)=>e&t^e&r^t&r,H=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),z=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),q=new Uint32Array(64);class Z extends V{constructor(){super(64,32,8,!1),this.A=0|z[0],this.B=0|z[1],this.C=0|z[2],this.D=0|z[3],this.E=0|z[4],this.F=0|z[5],this.G=0|z[6],this.H=0|z[7]}get(){let{A:e,B:t,C:r,D:n,E:i,F:s,G:a,H:o}=this;return[e,t,r,n,i,s,a,o]}set(e,t,r,n,i,s,a,o){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|s,this.G=0|a,this.H=0|o}process(e,t){for(let r=0;r<16;r++,t+=4)q[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){let t=q[e-15],r=q[e-2],n=B(t,7)^B(t,18)^t>>>3,i=B(r,17)^B(r,19)^r>>>10;q[e]=i+q[e-7]+n+q[e-16]|0}let{A:r,B:n,C:i,D:s,E:a,F:o,G:l,H:u}=this;for(let e=0;e<64;e++){let t=u+(B(a,6)^B(a,11)^B(a,25))+j(a,o,l)+H[e]+q[e]|0,h=(B(r,2)^B(r,13)^B(r,22))+K(r,n,i)|0;u=l,l=o,o=a,a=s+t|0,s=i,i=n,n=r,r=t+h|0}r=r+this.A|0,n=n+this.B|0,i=i+this.C|0,s=s+this.D|0,a=a+this.E|0,o=o+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,n,i,s,a,o,l,u)}roundClean(){q.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}let W=M(()=>new Z),Y=(BigInt(0),BigInt(1)),J=BigInt(2),X=e=>e instanceof Uint8Array,Q=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function ee(e){if(!X(e))throw Error("Uint8Array expected");let t="";for(let r=0;r<e.length;r++)t+=Q[e[r]];return t}function et(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);return BigInt(""===e?"0":`0x${e}`)}function er(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);let t=e.length;if(t%2)throw Error("padded hex string expected, got unpadded hex of length "+t);let r=new Uint8Array(t/2);for(let t=0;t<r.length;t++){let n=2*t,i=Number.parseInt(e.slice(n,n+2),16);if(Number.isNaN(i)||i<0)throw Error("Invalid byte sequence");r[t]=i}return r}function en(e){return et(ee(e))}function ei(e){if(!X(e))throw Error("Uint8Array expected");return et(ee(Uint8Array.from(e).reverse()))}function es(e,t){return er(e.toString(16).padStart(2*t,"0"))}function ea(e,t){return es(e,t).reverse()}function eo(e,t,r){let n;if("string"==typeof t)try{n=er(t)}catch(r){throw Error(`${e} must be valid hex string, got "${t}". Cause: ${r}`)}else if(X(t))n=Uint8Array.from(t);else throw Error(`${e} must be hex string or Uint8Array`);let i=n.length;if("number"==typeof r&&i!==r)throw Error(`${e} expected ${r} bytes, got ${i}`);return n}function el(...e){let t=new Uint8Array(e.reduce((e,t)=>e+t.length,0)),r=0;return e.forEach(e=>{if(!X(e))throw Error("Uint8Array expected");t.set(e,r),r+=e.length}),t}let eu=e=>(J<<BigInt(e-1))-Y,eh=e=>new Uint8Array(e),ec=e=>Uint8Array.from(e);function ef(e,t,r){if("number"!=typeof e||e<2)throw Error("hashLen must be a number");if("number"!=typeof t||t<2)throw Error("qByteLen must be a number");if("function"!=typeof r)throw Error("hmacFn must be a function");let n=eh(e),i=eh(e),s=0,a=()=>{n.fill(1),i.fill(0),s=0},o=(...e)=>r(i,n,...e),l=(e=eh())=>{i=o(ec([0]),e),n=o(),0!==e.length&&(i=o(ec([1]),e),n=o())},u=()=>{if(s++>=1e3)throw Error("drbg: tried 1000 values");let e=0,r=[];for(;e<t;){let t=(n=o()).slice();r.push(t),e+=n.length}return el(...r)};return(e,t)=>{let r;for(a(),l(e);!(r=t(u()));)l();return a(),r}}let ed={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||e instanceof Uint8Array,isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function ep(e,t,r={}){let n=(t,r,n)=>{let i=ed[r];if("function"!=typeof i)throw Error(`Invalid validator "${r}", expected function`);let s=e[t];if((!n||void 0!==s)&&!i(s,e))throw Error(`Invalid param ${String(t)}=${s} (${typeof s}), expected ${r}`)};for(let[e,r]of Object.entries(t))n(e,r,!1);for(let[e,t]of Object.entries(r))n(e,t,!0);return e}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */let ey=BigInt(0),eg=BigInt(1),em=BigInt(2),ew=BigInt(3),eb=BigInt(4),ev=BigInt(5),eE=BigInt(8);function eI(e,t){let r=e%t;return r>=ey?r:t+r}function eP(e,t,r){let n=e;for(;t-- >ey;)n*=n,n%=r;return n}function eA(e,t){if(e===ey||t<=ey)throw Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=eI(e,t),n=t,i=ey,s=eg,a=eg,o=ey;for(;r!==ey;){let e=n/r,t=n%r,l=i-a*e,u=s-o*e;n=r,r=t,i=a,s=o,a=l,o=u}if(n!==eg)throw Error("invert: does not exist");return eI(i,t)}BigInt(9),BigInt(16);let eN=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function ex(e,t){let r=void 0!==t?t:e.toString(2).length;return{nBitLength:r,nByteLength:Math.ceil(r/8)}}function eO(e){if("bigint"!=typeof e)throw Error("field order must be bigint");return Math.ceil(e.toString(2).length/8)}function eR(e){let t=eO(e);return t+Math.ceil(t/2)}class eS extends D{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,A(e);let r=F(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let n=this.blockLen,i=new Uint8Array(n);i.set(r.length>n?e.create().update(r).digest():r);for(let e=0;e<i.length;e++)i[e]^=54;this.iHash.update(i),this.oHash=e.create();for(let e=0;e<i.length;e++)i[e]^=106;this.oHash.update(i),i.fill(0)}update(e){return N(this),this.iHash.update(e),this}digestInto(e){N(this),P(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:t,iHash:r,finished:n,destroyed:i,blockLen:s,outputLen:a}=this;return e.finished=n,e.destroyed=i,e.blockLen=s,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}let eT=(e,t,r)=>new eS(e,t).update(r).digest();eT.create=(e,t)=>new eS(e,t);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */let ek=BigInt(0),eU=BigInt(1);function eB(e){return ep(e.Fp,eN.reduce((e,t)=>(e[t]="function",e),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"})),ep(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...ex(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}let{bytesToNumberBE:eL,hexToBytes:eC}=c,eF={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(e){let{Err:t}=eF;if(e.length<2||2!==e[0])throw new t("Invalid signature integer tag");let r=e[1],n=e.subarray(2,r+2);if(!r||n.length!==r)throw new t("Invalid signature integer: wrong length");if(128&n[0])throw new t("Invalid signature integer: negative");if(0===n[0]&&!(128&n[1]))throw new t("Invalid signature integer: unnecessary leading zero");return{d:eL(n),l:e.subarray(r+2)}},toSig(e){let{Err:t}=eF,r="string"==typeof e?eC(e):e;if(!(r instanceof Uint8Array))throw Error("ui8a expected");let n=r.length;if(n<2||48!=r[0])throw new t("Invalid signature tag");if(r[1]!==n-2)throw new t("Invalid signature: incorrect length");let{d:i,l:s}=eF._parseInt(r.subarray(2)),{d:a,l:o}=eF._parseInt(s);if(o.length)throw new t("Invalid signature: left bytes after parsing");return{r:i,s:a}},hexFromSig(e){let t=e=>8&Number.parseInt(e[0],16)?"00"+e:e,r=e=>{let t=e.toString(16);return 1&t.length?`0${t}`:t},n=t(r(e.s)),i=t(r(e.r)),s=n.length/2,a=i.length/2,o=r(s),l=r(a);return`30${r(a+s+4)}02${l}${i}02${o}${n}`}},eD=BigInt(0),e$=BigInt(1),eG=(BigInt(2),BigInt(3)),eM=(BigInt(4),BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f")),e_=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),eV=BigInt(1),ej=BigInt(2),eK=(e,t)=>(e+t/ej)/t,eH=function(e,t,r=!1,n={}){if(e<=ey)throw Error(`Expected Field ORDER > 0, got ${e}`);let{nBitLength:i,nByteLength:s}=ex(e,t);if(s>2048)throw Error("Field lengths over 2048 bytes are not supported");let a=function(e){if(e%eb===ew){let t=(e+eg)/eb;return function(e,r){let n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw Error("Cannot find square root");return n}}if(e%eE===ev){let t=(e-ev)/eE;return function(e,r){let n=e.mul(r,em),i=e.pow(n,t),s=e.mul(r,i),a=e.mul(e.mul(s,em),i),o=e.mul(s,e.sub(a,e.ONE));if(!e.eql(e.sqr(o),r))throw Error("Cannot find square root");return o}}return function(e){let t,r,n;let i=(e-eg)/em;for(t=e-eg,r=0;t%em===ey;t/=em,r++);for(n=em;n<e&&function(e,t,r){if(r<=ey||t<ey)throw Error("Expected power/modulo > 0");if(r===eg)return ey;let n=eg;for(;t>ey;)t&eg&&(n=n*e%r),e=e*e%r,t>>=eg;return n}(n,i,e)!==e-eg;n++);if(1===r){let t=(e+eg)/eb;return function(e,r){let n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw Error("Cannot find square root");return n}}let s=(t+eg)/em;return function(e,a){if(e.pow(a,i)===e.neg(e.ONE))throw Error("Cannot find square root");let o=r,l=e.pow(e.mul(e.ONE,n),t),u=e.pow(a,s),h=e.pow(a,t);for(;!e.eql(h,e.ONE);){if(e.eql(h,e.ZERO))return e.ZERO;let t=1;for(let r=e.sqr(h);t<o&&!e.eql(r,e.ONE);t++)r=e.sqr(r);let r=e.pow(l,eg<<BigInt(o-t-1));l=e.sqr(r),u=e.mul(u,r),h=e.mul(h,l),o=t}return u}}(e)}(e),o=Object.freeze({ORDER:e,BITS:i,BYTES:s,MASK:eu(i),ZERO:ey,ONE:eg,create:t=>eI(t,e),isValid:t=>{if("bigint"!=typeof t)throw Error(`Invalid field element: expected bigint, got ${typeof t}`);return ey<=t&&t<e},is0:e=>e===ey,isOdd:e=>(e&eg)===eg,neg:t=>eI(-t,e),eql:(e,t)=>e===t,sqr:t=>eI(t*t,e),add:(t,r)=>eI(t+r,e),sub:(t,r)=>eI(t-r,e),mul:(t,r)=>eI(t*r,e),pow:(e,t)=>(function(e,t,r){if(r<ey)throw Error("Expected power > 0");if(r===ey)return e.ONE;if(r===eg)return t;let n=e.ONE,i=t;for(;r>ey;)r&eg&&(n=e.mul(n,i)),i=e.sqr(i),r>>=eg;return n})(o,e,t),div:(t,r)=>eI(t*eA(r,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>eA(t,e),sqrt:n.sqrt||(e=>a(o,e)),invertBatch:e=>(function(e,t){let r=Array(t.length),n=t.reduce((t,n,i)=>e.is0(n)?t:(r[i]=t,e.mul(t,n)),e.ONE),i=e.inv(n);return t.reduceRight((t,n,i)=>e.is0(n)?t:(r[i]=e.mul(t,r[i]),e.mul(t,n)),i),r})(o,e),cmov:(e,t,r)=>r?t:e,toBytes:e=>r?ea(e,s):es(e,s),fromBytes:e=>{if(e.length!==s)throw Error(`Fp.fromBytes: expected ${s}, got ${e.length}`);return r?ei(e):en(e)}});return Object.freeze(o)}(eM,void 0,void 0,{sqrt:function(e){let t=BigInt(3),r=BigInt(6),n=BigInt(11),i=BigInt(22),s=BigInt(23),a=BigInt(44),o=BigInt(88),l=e*e*e%eM,u=l*l*e%eM,h=eP(u,t,eM)*u%eM,c=eP(h,t,eM)*u%eM,f=eP(c,ej,eM)*l%eM,d=eP(f,n,eM)*f%eM,p=eP(d,i,eM)*d%eM,y=eP(p,a,eM)*p%eM,g=eP(y,o,eM)*y%eM,m=eP(g,a,eM)*p%eM,w=eP(m,t,eM)*u%eM,b=eP(w,s,eM)*d%eM,v=eP(b,r,eM)*l%eM,E=eP(v,ej,eM);if(!eH.eql(eH.sqr(E),e))throw Error("Cannot find square root");return E}}),ez=function(e,t){let r=t=>(function(e){let t=function(e){let t=eB(e);return ep(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(e),{Fp:r,n:n}=t,i=r.BYTES+1,s=2*r.BYTES+1;function a(e){return eI(e,n)}let{ProjectivePoint:o,normPrivateKeyToScalar:l,weierstrassEquation:u,isWithinCurveOrder:h}=function(e){let t=/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function(e){let t=eB(e);ep(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:r,Fp:n,a:i}=t;if(r){if(!n.eql(i,n.ZERO))throw Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof r||"bigint"!=typeof r.beta||"function"!=typeof r.splitScalar)throw Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}(e),{Fp:r}=t,n=t.toBytes||((e,t,n)=>{let i=t.toAffine();return el(Uint8Array.from([4]),r.toBytes(i.x),r.toBytes(i.y))}),i=t.fromBytes||(e=>{let t=e.subarray(1);return{x:r.fromBytes(t.subarray(0,r.BYTES)),y:r.fromBytes(t.subarray(r.BYTES,2*r.BYTES))}});function s(e){let{a:n,b:i}=t,s=r.sqr(e),a=r.mul(s,e);return r.add(r.add(a,r.mul(e,n)),i)}if(!r.eql(r.sqr(t.Gy),s(t.Gx)))throw Error("bad generator point: equation left != right");function a(e){return"bigint"==typeof e&&eD<e&&e<t.n}function o(e){if(!a(e))throw Error("Expected valid bigint: 0 < bigint < curve.n")}function l(e){let r;let{allowedPrivateKeyLengths:n,nByteLength:i,wrapPrivateKey:s,n:a}=t;if(n&&"bigint"!=typeof e){if(e instanceof Uint8Array&&(e=ee(e)),"string"!=typeof e||!n.includes(e.length))throw Error("Invalid key");e=e.padStart(2*i,"0")}try{r="bigint"==typeof e?e:en(eo("private key",e,i))}catch(t){throw Error(`private key must be ${i} bytes, hex or bigint, not ${typeof e}`)}return s&&(r=eI(r,a)),o(r),r}let u=new Map;function h(e){if(!(e instanceof c))throw Error("ProjectivePoint expected")}class c{constructor(e,t,n){if(this.px=e,this.py=t,this.pz=n,null==e||!r.isValid(e))throw Error("x required");if(null==t||!r.isValid(t))throw Error("y required");if(null==n||!r.isValid(n))throw Error("z required")}static fromAffine(e){let{x:t,y:n}=e||{};if(!e||!r.isValid(t)||!r.isValid(n))throw Error("invalid affine point");if(e instanceof c)throw Error("projective point not allowed");let i=e=>r.eql(e,r.ZERO);return i(t)&&i(n)?c.ZERO:new c(t,n,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){let t=r.invertBatch(e.map(e=>e.pz));return e.map((e,r)=>e.toAffine(t[r])).map(c.fromAffine)}static fromHex(e){let t=c.fromAffine(i(eo("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return c.BASE.multiply(l(e))}_setWindowSize(e){this._WINDOW_SIZE=e,u.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!r.is0(this.py))return;throw Error("bad point: ZERO")}let{x:e,y:n}=this.toAffine();if(!r.isValid(e)||!r.isValid(n))throw Error("bad point: x or y not FE");let i=r.sqr(n),a=s(e);if(!r.eql(i,a))throw Error("bad point: equation left != right");if(!this.isTorsionFree())throw Error("bad point: not in prime-order subgroup")}hasEvenY(){let{y:e}=this.toAffine();if(r.isOdd)return!r.isOdd(e);throw Error("Field doesn't support isOdd")}equals(e){h(e);let{px:t,py:n,pz:i}=this,{px:s,py:a,pz:o}=e,l=r.eql(r.mul(t,o),r.mul(s,i)),u=r.eql(r.mul(n,o),r.mul(a,i));return l&&u}negate(){return new c(this.px,r.neg(this.py),this.pz)}double(){let{a:e,b:n}=t,i=r.mul(n,eG),{px:s,py:a,pz:o}=this,l=r.ZERO,u=r.ZERO,h=r.ZERO,f=r.mul(s,s),d=r.mul(a,a),p=r.mul(o,o),y=r.mul(s,a);return y=r.add(y,y),h=r.mul(s,o),h=r.add(h,h),l=r.mul(e,h),u=r.mul(i,p),u=r.add(l,u),l=r.sub(d,u),u=r.add(d,u),u=r.mul(l,u),l=r.mul(y,l),h=r.mul(i,h),p=r.mul(e,p),y=r.sub(f,p),y=r.mul(e,y),y=r.add(y,h),h=r.add(f,f),f=r.add(h,f),f=r.add(f,p),f=r.mul(f,y),u=r.add(u,f),p=r.mul(a,o),p=r.add(p,p),f=r.mul(p,y),l=r.sub(l,f),h=r.mul(p,d),h=r.add(h,h),new c(l,u,h=r.add(h,h))}add(e){h(e);let{px:n,py:i,pz:s}=this,{px:a,py:o,pz:l}=e,u=r.ZERO,f=r.ZERO,d=r.ZERO,p=t.a,y=r.mul(t.b,eG),g=r.mul(n,a),m=r.mul(i,o),w=r.mul(s,l),b=r.add(n,i),v=r.add(a,o);b=r.mul(b,v),v=r.add(g,m),b=r.sub(b,v),v=r.add(n,s);let E=r.add(a,l);return v=r.mul(v,E),E=r.add(g,w),v=r.sub(v,E),E=r.add(i,s),u=r.add(o,l),E=r.mul(E,u),u=r.add(m,w),E=r.sub(E,u),d=r.mul(p,v),u=r.mul(y,w),d=r.add(u,d),u=r.sub(m,d),d=r.add(m,d),f=r.mul(u,d),m=r.add(g,g),m=r.add(m,g),w=r.mul(p,w),v=r.mul(y,v),m=r.add(m,w),w=r.sub(g,w),w=r.mul(p,w),v=r.add(v,w),g=r.mul(m,v),f=r.add(f,g),g=r.mul(E,v),u=r.mul(b,u),u=r.sub(u,g),g=r.mul(b,m),d=r.mul(E,d),new c(u,f,d=r.add(d,g))}subtract(e){return this.add(e.negate())}is0(){return this.equals(c.ZERO)}wNAF(e){return d.wNAFCached(this,u,e,e=>{let t=r.invertBatch(e.map(e=>e.pz));return e.map((e,r)=>e.toAffine(t[r])).map(c.fromAffine)})}multiplyUnsafe(e){let n=c.ZERO;if(e===eD)return n;if(o(e),e===e$)return this;let{endo:i}=t;if(!i)return d.unsafeLadder(this,e);let{k1neg:s,k1:a,k2neg:l,k2:u}=i.splitScalar(e),h=n,f=n,p=this;for(;a>eD||u>eD;)a&e$&&(h=h.add(p)),u&e$&&(f=f.add(p)),p=p.double(),a>>=e$,u>>=e$;return s&&(h=h.negate()),l&&(f=f.negate()),f=new c(r.mul(f.px,i.beta),f.py,f.pz),h.add(f)}multiply(e){let n,i;o(e);let{endo:s}=t;if(s){let{k1neg:t,k1:a,k2neg:o,k2:l}=s.splitScalar(e),{p:u,f:h}=this.wNAF(a),{p:f,f:p}=this.wNAF(l);u=d.constTimeNegate(t,u),f=d.constTimeNegate(o,f),f=new c(r.mul(f.px,s.beta),f.py,f.pz),n=u.add(f),i=h.add(p)}else{let{p:t,f:r}=this.wNAF(e);n=t,i=r}return c.normalizeZ([n,i])[0]}multiplyAndAddUnsafe(e,t,r){let n=c.BASE,i=(e,t)=>t!==eD&&t!==e$&&e.equals(n)?e.multiply(t):e.multiplyUnsafe(t),s=i(this,t).add(i(e,r));return s.is0()?void 0:s}toAffine(e){let{px:t,py:n,pz:i}=this,s=this.is0();null==e&&(e=s?r.ONE:r.inv(i));let a=r.mul(t,e),o=r.mul(n,e),l=r.mul(i,e);if(s)return{x:r.ZERO,y:r.ZERO};if(!r.eql(l,r.ONE))throw Error("invZ was invalid");return{x:a,y:o}}isTorsionFree(){let{h:e,isTorsionFree:r}=t;if(e===e$)return!0;if(r)return r(c,this);throw Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:e,clearCofactor:r}=t;return e===e$?this:r?r(c,this):this.multiplyUnsafe(t.h)}toRawBytes(e=!0){return this.assertValidity(),n(c,this,e)}toHex(e=!0){return ee(this.toRawBytes(e))}}c.BASE=new c(t.Gx,t.Gy,r.ONE),c.ZERO=new c(r.ZERO,r.ONE,r.ZERO);let f=t.nBitLength,d=function(e,t){let r=(e,t)=>{let r=t.negate();return e?r:t},n=e=>({windows:Math.ceil(t/e)+1,windowSize:2**(e-1)});return{constTimeNegate:r,unsafeLadder(t,r){let n=e.ZERO,i=t;for(;r>ek;)r&eU&&(n=n.add(i)),i=i.double(),r>>=eU;return n},precomputeWindow(e,t){let{windows:r,windowSize:i}=n(t),s=[],a=e,o=a;for(let e=0;e<r;e++){o=a,s.push(o);for(let e=1;e<i;e++)o=o.add(a),s.push(o);a=o.double()}return s},wNAF(t,i,s){let{windows:a,windowSize:o}=n(t),l=e.ZERO,u=e.BASE,h=BigInt(2**t-1),c=2**t,f=BigInt(t);for(let e=0;e<a;e++){let t=e*o,n=Number(s&h);s>>=f,n>o&&(n-=c,s+=eU);let a=t+Math.abs(n)-1,d=e%2!=0,p=n<0;0===n?u=u.add(r(d,i[t])):l=l.add(r(p,i[a]))}return{p:l,f:u}},wNAFCached(e,t,r,n){let i=e._WINDOW_SIZE||1,s=t.get(e);return s||(s=this.precomputeWindow(e,i),1!==i&&t.set(e,n(s))),this.wNAF(i,s,r)}}}(c,t.endo?Math.ceil(f/2):f);return{CURVE:t,ProjectivePoint:c,normPrivateKeyToScalar:l,weierstrassEquation:s,isWithinCurveOrder:a}}({...t,toBytes(e,t,n){let i=t.toAffine(),s=r.toBytes(i.x),a=el;return n?a(Uint8Array.from([t.hasEvenY()?2:3]),s):a(Uint8Array.from([4]),s,r.toBytes(i.y))},fromBytes(e){let t=e.length,n=e[0],a=e.subarray(1);if(t===i&&(2===n||3===n)){let e=en(a);if(!(eD<e&&e<r.ORDER))throw Error("Point is not on curve");let t=u(e),i=r.sqrt(t);return(1&n)==1!=((i&e$)===e$)&&(i=r.neg(i)),{x:e,y:i}}if(t===s&&4===n)return{x:r.fromBytes(a.subarray(0,r.BYTES)),y:r.fromBytes(a.subarray(r.BYTES,2*r.BYTES))};throw Error(`Point of length ${t} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`)}}),c=e=>ee(es(e,t.nByteLength)),f=(e,t,r)=>en(e.slice(t,r));class d{constructor(e,t,r){this.r=e,this.s=t,this.recovery=r,this.assertValidity()}static fromCompact(e){let r=t.nByteLength;return new d(f(e=eo("compactSignature",e,2*r),0,r),f(e,r,2*r))}static fromDER(e){let{r:t,s:r}=eF.toSig(eo("DER",e));return new d(t,r)}assertValidity(){if(!h(this.r))throw Error("r must be 0 < r < CURVE.n");if(!h(this.s))throw Error("s must be 0 < s < CURVE.n")}addRecoveryBit(e){return new d(this.r,this.s,e)}recoverPublicKey(e){let{r:i,s,recovery:l}=this,u=g(eo("msgHash",e));if(null==l||![0,1,2,3].includes(l))throw Error("recovery id invalid");let h=2===l||3===l?i+t.n:i;if(h>=r.ORDER)throw Error("recovery id 2 or 3 invalid");let f=(1&l)==0?"02":"03",d=o.fromHex(f+c(h)),p=eA(h,n),y=a(-u*p),m=a(s*p),w=o.BASE.multiplyAndAddUnsafe(d,y,m);if(!w)throw Error("point at infinify");return w.assertValidity(),w}hasHighS(){return this.s>n>>e$}normalizeS(){return this.hasHighS()?new d(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return er(this.toDERHex())}toDERHex(){return eF.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return er(this.toCompactHex())}toCompactHex(){return c(this.r)+c(this.s)}}function p(e){let t=e instanceof Uint8Array,r="string"==typeof e,n=(t||r)&&e.length;return t?n===i||n===s:r?n===2*i||n===2*s:e instanceof o}let y=t.bits2int||function(e){let r=en(e),n=8*e.length-t.nBitLength;return n>0?r>>BigInt(n):r},g=t.bits2int_modN||function(e){return a(y(e))},m=eu(t.nBitLength);function w(e){if("bigint"!=typeof e)throw Error("bigint expected");if(!(eD<=e&&e<m))throw Error(`bigint expected < 2^${t.nBitLength}`);return es(e,t.nByteLength)}let b={lowS:t.lowS,prehash:!1},v={lowS:t.lowS,prehash:!1};return o.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function(e,t=!0){return o.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t,r=!0){if(p(e))throw Error("first arg must be private key");if(!p(t))throw Error("second arg must be public key");return o.fromHex(t).multiply(l(e)).toRawBytes(r)},sign:function(e,i,s=b){let{seed:u,k2sig:c}=function(e,i,s=b){if(["recovered","canonical"].some(e=>e in s))throw Error("sign() legacy options not supported");let{hash:u,randomBytes:c}=t,{lowS:f,prehash:p,extraEntropy:m}=s;null==f&&(f=!0),e=eo("msgHash",e),p&&(e=eo("prehashed msgHash",u(e)));let v=g(e),E=l(i),I=[w(E),w(v)];if(null!=m){let e=!0===m?c(r.BYTES):m;I.push(eo("extraEntropy",e))}return{seed:el(...I),k2sig:function(e){let t=y(e);if(!h(t))return;let r=eA(t,n),i=o.BASE.multiply(t).toAffine(),s=a(i.x);if(s===eD)return;let l=a(r*a(v+s*E));if(l===eD)return;let u=(i.x===s?0:2)|Number(i.y&e$),c=l;if(f&&l>n>>e$)c=l>n>>e$?a(-l):l,u^=1;return new d(s,c,u)}}}(e,i,s);return ef(t.hash.outputLen,t.nByteLength,t.hmac)(u,c)},verify:function(e,r,i,s=v){let l,u;if(r=eo("msgHash",r),i=eo("publicKey",i),"strict"in s)throw Error("options.strict was renamed to lowS");let{lowS:h,prehash:c}=s;try{if("string"==typeof e||e instanceof Uint8Array)try{u=d.fromDER(e)}catch(t){if(!(t instanceof eF.Err))throw t;u=d.fromCompact(e)}else if("object"==typeof e&&"bigint"==typeof e.r&&"bigint"==typeof e.s){let{r:t,s:r}=e;u=new d(t,r)}else throw Error("PARSE");l=o.fromHex(i)}catch(e){if("PARSE"===e.message)throw Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(h&&u.hasHighS())return!1;c&&(r=t.hash(r));let{r:f,s:p}=u,y=g(r),m=eA(p,n),w=a(y*m),b=a(f*m),E=o.BASE.multiplyAndAddUnsafe(l,w,b)?.toAffine();return!!E&&a(E.x)===f},ProjectivePoint:o,Signature:d,utils:{isValidPrivateKey(e){try{return l(e),!0}catch(e){return!1}},normPrivateKeyToScalar:l,randomPrivateKey:()=>{let e=eR(t.n);return function(e,t,r=!1){let n=e.length,i=eO(t),s=eR(t);if(n<16||n<s||n>1024)throw Error(`expected ${s}-1024 bytes of input, got ${n}`);let a=eI(r?en(e):ei(e),t-eg)+eg;return r?ea(a,i):es(a,i)}(t.randomBytes(e),t.n)},precompute:(e=8,t=o.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)}}})({...e,hash:t,hmac:(e,...r)=>eT(t,e,function(...e){let t=new Uint8Array(e.reduce((e,t)=>e+t.length,0)),r=0;return e.forEach(e=>{if(!T(e))throw Error("Uint8Array expected");t.set(e,r),r+=e.length}),t}(...r)),randomBytes:_});return Object.freeze({...r(t),create:r})}({a:BigInt(0),b:BigInt(7),Fp:eH,n:e_,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{let t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-eV*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),n=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=BigInt("0x100000000000000000000000000000000"),s=eK(t*e,e_),a=eK(-r*e,e_),o=eI(e-s*t-a*n,e_),l=eI(-s*r-a*t,e_),u=o>i,h=l>i;if(u&&(o=e_-o),h&&(l=e_-l),o>i||l>i)throw Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:u,k1:o,k2neg:h,k2:l}}}},W),eq=(BigInt(0),ez.ProjectivePoint,"6.11.1");async function eZ(e){let t=Object.keys(e);return(await Promise.all(t.map(t=>Promise.resolve(e[t])))).reduce((e,r,n)=>(e[t[n]]=r,e),{})}function eW(e,t,r){for(let n in t){let i=t[n],s=r?r[n]:null;s&&function(e,t,r){let n=t.split("|").map(e=>e.trim());for(let r=0;r<n.length;r++)switch(t){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof e===t)return}let i=Error(`invalid value for type ${t}`);throw i.code="INVALID_ARGUMENT",i.argument=`value.${r}`,i.value=e,i}(i,s,n),Object.defineProperty(e,n,{enumerable:!0,value:i,writable:!1})}}function eY(e){if(null==e)return"null";if(Array.isArray(e))return"[ "+e.map(eY).join(", ")+" ]";if(e instanceof Uint8Array){let t="0123456789abcdef",r="0x";for(let n=0;n<e.length;n++)r+=t[e[n]>>4]+t[15&e[n]];return r}if("object"==typeof e&&"function"==typeof e.toJSON)return eY(e.toJSON());switch(typeof e){case"boolean":case"symbol":case"number":return e.toString();case"bigint":return BigInt(e).toString();case"string":return JSON.stringify(e);case"object":{let t=Object.keys(e);return t.sort(),"{ "+t.map(t=>`${eY(t)}: ${eY(e[t])}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function eJ(e,t,r){let n,i=e;{let n=[];if(r){if("message"in r||"code"in r||"name"in r)throw Error(`value will overwrite populated values: ${eY(r)}`);for(let e in r){if("shortMessage"===e)continue;let t=r[e];n.push(e+"="+eY(t))}}n.push(`code=${t}`),n.push(`version=${eq}`),n.length&&(e+=" ("+n.join(", ")+")")}switch(t){case"INVALID_ARGUMENT":n=TypeError(e);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":n=RangeError(e);break;default:n=Error(e)}return eW(n,{code:t}),r&&Object.assign(n,r),null==n.shortMessage&&eW(n,{shortMessage:i}),n}function eX(e,t,r,n){if(!e)throw eJ(t,r,n)}function eQ(e,t,r,n){eX(e,t,"INVALID_ARGUMENT",{argument:r,value:n})}let e1=["NFD","NFC","NFKD","NFKC"].reduce((e,t)=>{try{if("test"!=="test".normalize(t))throw Error("bad");if("NFD"===t){let e=String.fromCharCode(233).normalize("NFD"),t=String.fromCharCode(101,769);if(e!==t)throw Error("broken")}e.push(t)}catch(e){}return e},[]);function e2(e){eX(e1.indexOf(e)>=0,"platform missing String.prototype.normalize","UNSUPPORTED_OPERATION",{operation:"String.prototype.normalize",info:{form:e}})}function e0(e,t,r){if(null==r&&(r=""),e!==t){let e=r,t="new";r&&(e+=".",t+=" "+r),eX(!1,`private constructor; use ${e}from* methods`,"UNSUPPORTED_OPERATION",{operation:t})}}function e3(e,t,r){if(e instanceof Uint8Array)return r?new Uint8Array(e):e;if("string"==typeof e&&e.match(/^0x([0-9a-f][0-9a-f])*$/i)){let t=new Uint8Array((e.length-2)/2),r=2;for(let n=0;n<t.length;n++)t[n]=parseInt(e.substring(r,r+2),16),r+=2;return t}eQ(!1,"invalid BytesLike value",t||"value",e)}function e4(e,t){return e3(e,t,!1)}function e5(e,t){return e3(e,t,!0)}function e7(e,t){return!!("string"==typeof e&&e.match(/^0x[0-9A-Fa-f]*$/))&&("number"!=typeof t||e.length===2+2*t)&&(!0!==t||e.length%2==0)}function e6(e){return e7(e,!0)||e instanceof Uint8Array}let e8="0123456789abcdef";function e9(e){let t=e4(e),r="0x";for(let e=0;e<t.length;e++){let n=t[e];r+=e8[(240&n)>>4]+e8[15&n]}return r}function te(e){return"0x"+e.map(e=>e9(e).substring(2)).join("")}function tt(e){return e7(e,!0)?(e.length-2)/2:e4(e).length}function tr(e,t,r){let n=e4(e);return null!=r&&r>n.length&&eX(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:n,length:n.length,offset:r}),e9(n.slice(null==t?0:t,null==r?n.length:r))}function tn(e,t){return function(e,t,r){let n=e4(e);eX(t>=n.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(n),length:t,offset:t+1});let i=new Uint8Array(t);return i.fill(0),r?i.set(n,t-n.length):i.set(n,0),e9(i)}(e,t,!0)}let ti=BigInt(0),ts=BigInt(1);function ta(e,t){switch(typeof e){case"bigint":return e;case"number":return eQ(Number.isInteger(e),"underflow",t||"value",e),eQ(e>=-9007199254740991&&e<=9007199254740991,"overflow",t||"value",e),BigInt(e);case"string":try{if(""===e)throw Error("empty string");if("-"===e[0]&&"-"!==e[1])return-BigInt(e.substring(1));return BigInt(e)}catch(r){eQ(!1,`invalid BigNumberish string: ${r.message}`,t||"value",e)}}eQ(!1,"invalid BigNumberish value",t||"value",e)}function to(e,t){let r=ta(e,t);return eX(r>=ti,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:e}),r}let tl="0123456789abcdef";function tu(e){if(e instanceof Uint8Array){let t="0x0";for(let r of e)t+=tl[r>>4]+tl[15&r];return BigInt(t)}return ta(e)}function th(e,t){switch(typeof e){case"bigint":return eQ(e>=-9007199254740991&&e<=9007199254740991,"overflow",t||"value",e),Number(e);case"number":return eQ(Number.isInteger(e),"underflow",t||"value",e),eQ(e>=-9007199254740991&&e<=9007199254740991,"overflow",t||"value",e),e;case"string":try{if(""===e)throw Error("empty string");return th(BigInt(e),t)}catch(r){eQ(!1,`invalid numeric string: ${r.message}`,t||"value",e)}}eQ(!1,"invalid numeric value",t||"value",e)}function tc(e,t){let r=to(e,"value").toString(16);if(null==t)r.length%2&&(r="0"+r);else{let n=th(t,"width");for(eX(2*n>=r.length,`value exceeds width (${n} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:e});r.length<2*n;)r="0"+r}return"0x"+r}function tf(e){let t=to(e,"value");if(t===ti)return new Uint8Array([]);let r=t.toString(16);r.length%2&&(r="0"+r);let n=new Uint8Array(r.length/2);for(let e=0;e<n.length;e++){let t=2*e;n[e]=parseInt(r.substring(t,t+2),16)}return n}let td="0x0000000000000000000000000000000000000000000000000000000000000000",tp=BigInt(0),ty=BigInt(1),tg=BigInt(2),tm=BigInt(27),tw=BigInt(28),tb=BigInt(35),tv={};class tE{#e;#t;#r;#n;get r(){return this.#e}set r(e){eQ(32===tt(e),"invalid r","value",e),this.#e=e9(e)}get s(){return this.#t}set s(e){eQ(32===tt(e),"invalid s","value",e);let t=e9(e);eQ(8>parseInt(t.substring(0,3)),"non-canonical s","value",t),this.#t=t}get v(){return this.#r}set v(e){let t=th(e,"value");eQ(27===t||28===t,"invalid v","v",e),this.#r=t}get networkV(){return this.#n}get legacyChainId(){let e=this.networkV;return null==e?null:tE.getChainId(e)}get yParity(){return 27===this.v?0:1}get yParityAndS(){let e=e4(this.s);return this.yParity&&(e[0]|=128),e9(e)}get compactSerialized(){return te([this.r,this.yParityAndS])}get serialized(){return te([this.r,this.s,this.yParity?"0x1c":"0x1b"])}constructor(e,t,r,n){e0(e,tv,"Signature"),this.#e=t,this.#t=r,this.#r=n,this.#n=null}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this.s}", yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){let e=new tE(tv,this.r,this.s,this.v);return this.networkV&&(e.#n=this.networkV),e}toJSON(){let e=this.networkV;return{_type:"signature",networkV:null!=e?e.toString():null,r:this.r,s:this.s,v:this.v}}static getChainId(e){let t=ta(e,"v");return t==tm||t==tw?tp:(eQ(t>=tb,"invalid EIP-155 v","v",e),(t-tb)/tg)}static getChainIdV(e,t){return ta(e)*tg+BigInt(35+t-27)}static getNormalizedV(e){let t=ta(e);return t===tp||t===tm?27:t===ty||t===tw?28:(eQ(t>=tb,"invalid v","v",e),t&ty?27:28)}static from(e){function t(t,r){eQ(t,r,"signature",e)}if(null==e)return new tE(tv,td,td,27);if("string"==typeof e){let r=e4(e,"signature");if(64===r.length){let e=e9(r.slice(0,32)),t=r.slice(32,64),n=128&t[0]?28:27;return t[0]&=127,new tE(tv,e,e9(t),n)}if(65===r.length){let e=e9(r.slice(0,32)),n=r.slice(32,64);t((128&n[0])==0,"non-canonical s");let i=tE.getNormalizedV(r[64]);return new tE(tv,e,e9(n),i)}t(!1,"invalid raw signature length")}if(e instanceof tE)return e.clone();let r=e.r;t(null!=r,"missing r");let n=tn(tf(r),32),i=function(e,r){if(null!=e)return tn(tf(e),32);if(null!=r){t(e7(r,32),"invalid yParityAndS");let e=e4(r);return e[0]&=127,e9(e)}t(!1,"missing s")}(e.s,e.yParityAndS);t((128&e4(i)[0])==0,"non-canonical s");let{networkV:s,v:a}=function(e,r,n){if(null!=e){let t=ta(e);return{networkV:t>=tb?t:void 0,v:tE.getNormalizedV(t)}}if(null!=r)return t(e7(r,32),"invalid yParityAndS"),{v:128&e4(r)[0]?28:27};if(null!=n){switch(th(n,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}t(!1,"invalid yParity")}t(!1,"missing v")}(e.v,e.yParityAndS,e.yParity),o=new tE(tv,n,i,a);return s&&(o.#n=s),t(null==e.yParity||th(e.yParity,"sig.yParity")===o.yParity,"yParity mismatch"),t(null==e.yParityAndS||e.yParityAndS===o.yParityAndS,"yParityAndS mismatch"),o}}class tI{#i;constructor(e){eQ(32===tt(e),"invalid private key","privateKey","[REDACTED]"),this.#i=e9(e)}get privateKey(){return this.#i}get publicKey(){return tI.computePublicKey(this.#i)}get compressedPublicKey(){return tI.computePublicKey(this.#i,!0)}sign(e){eQ(32===tt(e),"invalid digest length","digest",e);let t=ez.sign(e5(e),e5(this.#i),{lowS:!0});return tE.from({r:tc(t.r,32),s:tc(t.s,32),v:t.recovery?28:27})}computeSharedSecret(e){let t=tI.computePublicKey(e);return e9(ez.getSharedSecret(e5(this.#i),e4(t),!1))}static computePublicKey(e,t){let r=e4(e,"key");if(32===r.length)return e9(ez.getPublicKey(r,!!t));if(64===r.length){let e=new Uint8Array(65);e[0]=4,e.set(r,1),r=e}return e9(ez.ProjectivePoint.fromHex(r).toRawBytes(t))}static recoverPublicKey(e,t){eQ(32===tt(e),"invalid digest length","digest",e);let r=tE.from(t),n=ez.Signature.fromCompact(e5(te([r.r,r.s]))),i=(n=n.addRecoveryBit(r.yParity)).recoverPublicKey(e5(e));return eQ(null!=i,"invalid signautre for digest","signature",t),"0x"+i.toHex(!1)}static addPoints(e,t,r){let n=ez.ProjectivePoint.fromHex(tI.computePublicKey(e).substring(2)),i=ez.ProjectivePoint.fromHex(tI.computePublicKey(t).substring(2));return"0x"+n.add(i).toHex(!!r)}}let tP=BigInt(4294967296-1),tA=BigInt(32),tN=(e,t,r)=>e<<r|t>>>32-r,tx=(e,t,r)=>t<<r|e>>>32-r,tO=(e,t,r)=>t<<r-32|e>>>64-r,tR=(e,t,r)=>e<<r-32|t>>>64-r,[tS,tT,tk]=[[],[],[]],tU=BigInt(0),tB=BigInt(1),tL=BigInt(2),tC=BigInt(7),tF=BigInt(256),tD=BigInt(113);for(let e=0,t=tB,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],tS.push(2*(5*n+r)),tT.push((e+1)*(e+2)/2%64);let i=tU;for(let e=0;e<7;e++)(t=(t<<tB^(t>>tC)*tD)%tF)&tL&&(i^=tB<<(tB<<BigInt(e))-tB);tk.push(i)}let[t$,tG]=function(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let i=0;i<e.length;i++){let{h:s,l:a}=function(e,t=!1){return t?{h:Number(e&tP),l:Number(e>>tA&tP)}:{h:0|Number(e>>tA&tP),l:0|Number(e&tP)}}(e[i],t);[r[i],n[i]]=[s,a]}return[r,n]}(tk,!0),tM=(e,t,r)=>r>32?tO(e,t,r):tN(e,t,r),t_=(e,t,r)=>r>32?tR(e,t,r):tx(e,t,r);class tV extends D{constructor(e,t,r,n=!1,i=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=n,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,I(r),0>=this.blockLen||this.blockLen>=200)throw Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=k(this.state)}keccak(){(function(e,t=24){let r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let t=0;t<10;t++)r[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){let n=(t+8)%10,i=(t+2)%10,s=r[i],a=r[i+1],o=tM(s,a,1)^r[n],l=t_(s,a,1)^r[n+1];for(let r=0;r<50;r+=10)e[t+r]^=o,e[t+r+1]^=l}let t=e[2],i=e[3];for(let r=0;r<24;r++){let n=tT[r],s=tM(t,i,n),a=t_(t,i,n),o=tS[r];t=e[o],i=e[o+1],e[o]=s,e[o+1]=a}for(let t=0;t<50;t+=10){for(let n=0;n<10;n++)r[n]=e[t+n];for(let n=0;n<10;n++)e[t+n]^=~r[(n+2)%10]&r[(n+4)%10]}e[0]^=t$[n],e[1]^=tG[n]}r.fill(0)})(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){N(this);let{blockLen:t,state:r}=this,n=(e=F(e)).length;for(let i=0;i<n;){let s=Math.min(t-this.pos,n-i);for(let t=0;t<s;t++)r[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:t,pos:r,blockLen:n}=this;e[r]^=t,(128&t)!=0&&r===n-1&&this.keccak(),e[n-1]^=128,this.keccak()}writeInto(e){N(this,!1),P(e),this.finish();let t=this.state,{blockLen:r}=this;for(let n=0,i=e.length;n<i;){this.posOut>=r&&this.keccak();let s=Math.min(r-this.posOut,i-n);e.set(t.subarray(this.posOut,this.posOut+s),n),this.posOut+=s,n+=s}return e}xofInto(e){if(!this.enableXOF)throw Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return I(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(x(e,this),this.finished)throw Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){let{blockLen:t,suffix:r,outputLen:n,rounds:i,enableXOF:s}=this;return e||(e=new tV(t,r,n,s,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=n,e.enableXOF=s,e.destroyed=this.destroyed,e}}let tj=M(()=>new tV(136,1,32)),tK=!1,tH=function(e){return tj(e)},tz=tH;function tq(e){let t=e4(e,"data");return e9(tz(t))}tq._=tH,tq.lock=function(){tK=!0},tq.register=function(e){if(tK)throw TypeError("keccak256 is locked");tz=e},Object.freeze(tq);let tZ=BigInt(0),tW=BigInt(36);function tY(e){let t=(e=e.toLowerCase()).substring(2).split(""),r=new Uint8Array(40);for(let e=0;e<40;e++)r[e]=t[e].charCodeAt(0);let n=e4(tq(r));for(let e=0;e<40;e+=2)n[e>>1]>>4>=8&&(t[e]=t[e].toUpperCase()),(15&n[e>>1])>=8&&(t[e+1]=t[e+1].toUpperCase());return"0x"+t.join("")}let tJ={};for(let e=0;e<10;e++)tJ[String(e)]=String(e);for(let e=0;e<26;e++)tJ[String.fromCharCode(65+e)]=String(10+e);let tX=function(){let e={};for(let t=0;t<36;t++)e["0123456789abcdefghijklmnopqrstuvwxyz"[t]]=BigInt(t);return e}();function tQ(e){if(eQ("string"==typeof e,"invalid address","address",e),e.match(/^(0x)?[0-9a-fA-F]{40}$/)){e.startsWith("0x")||(e="0x"+e);let t=tY(e);return eQ(!e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||t===e,"bad address checksum","address",e),t}if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){eQ(e.substring(2,4)===function(e){let t=(e=(e=e.toUpperCase()).substring(4)+e.substring(0,2)+"00").split("").map(e=>tJ[e]).join("");for(;t.length>=15;){let e=t.substring(0,15);t=parseInt(e,10)%97+t.substring(e.length)}let r=String(98-parseInt(t,10)%97);for(;r.length<2;)r="0"+r;return r}(e),"bad icap checksum","address",e);let t=(function(e){e=e.toLowerCase();let t=tZ;for(let r=0;r<e.length;r++)t=t*tW+tX[e[r]];return t})(e.substring(4)).toString(16);for(;t.length<40;)t="0"+t;return tY("0x"+t)}eQ(!1,"invalid address","address",e)}async function t1(e,t){let r=await t;return(null==r||"0x0000000000000000000000000000000000000000"===r)&&(eX("string"!=typeof e,"unconfigured name","UNCONFIGURED_NAME",{value:e}),eQ(!1,"invalid AddressLike value; did not resolve to a value address","target",e)),tQ(r)}function t2(e,t){return"string"==typeof e?e.match(/^0x[0-9a-f]{40}$/i)?tQ(e):(eX(null!=t,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),t1(e,t.resolveName(e))):e&&"function"==typeof e.getAddress?t1(e,e.getAddress()):e&&"function"==typeof e.then?t1(e,e):void eQ(!1,"unsupported addressable value","target",e)}function t0(e,t,r,n,i){if("BAD_PREFIX"===e||"UNEXPECTED_CONTINUE"===e){let e=0;for(let n=t+1;n<r.length&&r[n]>>6==2;n++)e++;return e}return"OVERRUN"===e?r.length-t-1:0}function t3(e,t){eQ("string"==typeof e,"invalid string value","str",e),null!=t&&(e2(t),e=e.normalize(t));let r=[];for(let t=0;t<e.length;t++){let n=e.charCodeAt(t);if(n<128)r.push(n);else if(n<2048)r.push(n>>6|192),r.push(63&n|128);else if((64512&n)==55296){t++;let i=e.charCodeAt(t);eQ(t<e.length&&(64512&i)==56320,"invalid surrogate pair","str",e);let s=65536+((1023&n)<<10)+(1023&i);r.push(s>>18|240),r.push(s>>12&63|128),r.push(s>>6&63|128),r.push(63&s|128)}else r.push(n>>12|224),r.push(n>>6&63|128),r.push(63&n|128)}return new Uint8Array(r)}Object.freeze({error:function(e,t,r,n,i){eQ(!1,`invalid codepoint at offset ${t}; ${e}`,"bytes",r)},ignore:t0,replace:function(e,t,r,n,i){return"OVERLONG"===e?(eQ("number"==typeof i,"invalid bad code point for replacement","badCodepoint",i),n.push(i),0):(n.push(65533),t0(e,t,r,n,i))}});let t4=new Uint8Array(32);t4.fill(0);let t5=BigInt(-1),t7=BigInt(0),t6=BigInt(1),t8=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),t9=tc(t6,32),re=tc(t7,32),rt={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},rr=["name","version","chainId","verifyingContract","salt"];function rn(e){return function(t){return eQ("string"==typeof t,`invalid domain value for ${JSON.stringify(e)}`,`domain.${e}`,t),t}}let ri={name:rn("name"),version:rn("version"),chainId:function(e){let t=ta(e,"domain.chainId");return(eQ(t>=0,"invalid chain ID","domain.chainId",e),Number.isSafeInteger(t))?Number(t):function(e){let t=e9(e6(e)?e:tf(e)).substring(2);for(;t.startsWith("0");)t=t.substring(1);return""===t&&(t="0"),"0x"+t}(t)},verifyingContract:function(e){try{return tQ(e).toLowerCase()}catch(e){}eQ(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",e)},salt:function(e){let t=e4(e,"domain.salt");return eQ(32===t.length,'invalid domain value "salt"',"domain.salt",e),e9(t)}};function rs(e){{let t=e.match(/^(u?)int(\d+)$/);if(t){let r=""===t[1],n=parseInt(t[2]);eQ(n%8==0&&0!==n&&n<=256&&t[2]===String(n),"invalid numeric width","type",e);let i=to(t8,"value")&(ts<<BigInt(th(r?n-1:n,"bits")))-ts,s=r?(i+t6)*t5:t7;return function(t){let n=ta(t,"value");return eQ(n>=s&&n<=i,`value out-of-bounds for ${e}`,"value",n),tc(r?function(e,t){let r=ta(e,"value"),n=BigInt(th(256,"width")),i=ts<<n-ts;return r<ti?(eX((r=-r)<=i,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:e}),(~r&(ts<<n)-ts)+ts):(eX(r<i,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:e}),r)}(n,0):n,32)}}}{let t=e.match(/^bytes(\d+)$/);if(t){let r=parseInt(t[1]);return eQ(0!==r&&r<=32&&t[1]===String(r),"invalid bytes width","type",e),function(t){return eQ(e4(t).length===r,`invalid length for ${e}`,"value",t),function(e){let t=e4(e),r=t.length%32;return r?te([t,t4.slice(r)]):e9(t)}(t)}}}switch(e){case"address":return function(e){return tn(tQ(e),32)};case"bool":return function(e){return e?t9:re};case"bytes":return function(e){return tq(e)};case"string":return function(e){return tq(t3(e))}}return null}function ra(e,t){return`${e}(${t.map(({name:e,type:t})=>t+" "+e).join(",")})`}function ro(e){let t=e.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return t?{base:t[1],index:t[2]+t[4],array:{base:t[1],prefix:t[1]+t[2],count:t[5]?parseInt(t[5]):-1}}:{base:e}}class rl{#s;get types(){return JSON.parse(this.#s)}#a;#o;constructor(e){this.#a=new Map,this.#o=new Map;let t=new Map,r=new Map,n=new Map,i={};for(let s in Object.keys(e).forEach(s=>{i[s]=e[s].map(({name:t,type:r})=>{let{base:n,index:i}=ro(r);return"int"!==n||e.int||(n="int256"),"uint"!==n||e.uint||(n="uint256"),{name:t,type:n+(i||"")}}),t.set(s,new Set),r.set(s,[]),n.set(s,new Set)}),this.#s=JSON.stringify(i),i){let n=new Set;for(let a of i[s]){eQ(!n.has(a.name),`duplicate variable name ${JSON.stringify(a.name)} in ${JSON.stringify(s)}`,"types",e),n.add(a.name);let i=ro(a.type).base;eQ(i!==s,`circular type reference to ${JSON.stringify(i)}`,"types",e),rs(i)||(eQ(r.has(i),`unknown type ${JSON.stringify(i)}`,"types",e),r.get(i).push(s),t.get(s).add(i))}}let s=Array.from(r.keys()).filter(e=>0===r.get(e).length);for(let[a,o]of(eQ(0!==s.length,"missing primary type","types",e),eQ(1===s.length,`ambiguous primary types or unused types: ${s.map(e=>JSON.stringify(e)).join(", ")}`,"types",e),eW(this,{primaryType:s[0]}),function i(s,a){for(let o of(eQ(!a.has(s),`circular type reference to ${JSON.stringify(s)}`,"types",e),a.add(s),t.get(s)))if(r.has(o))for(let e of(i(o,a),a))n.get(e).add(o);a.delete(s)}(this.primaryType,new Set),n)){let e=Array.from(o);e.sort(),this.#a.set(a,ra(a,i[a])+e.map(e=>ra(e,i[e])).join(""))}}getEncoder(e){let t=this.#o.get(e);return t||(t=this.#l(e),this.#o.set(e,t)),t}#l(e){{let t=rs(e);if(t)return t}let t=ro(e).array;if(t){let e=t.prefix,r=this.getEncoder(e);return n=>{eQ(-1===t.count||t.count===n.length,`array length mismatch; expected length ${t.count}`,"value",n);let i=n.map(r);return this.#a.has(e)&&(i=i.map(tq)),tq(te(i))}}let r=this.types[e];if(r){let t=tq(t3(this.#a.get(e)));return e=>{let n=r.map(({name:t,type:r})=>{let n=this.getEncoder(r)(e[t]);return this.#a.has(r)?tq(n):n});return n.unshift(t),te(n)}}eQ(!1,`unknown type: ${e}`,"type",e)}encodeType(e){let t=this.#a.get(e);return eQ(t,`unknown type: ${JSON.stringify(e)}`,"name",e),t}encodeData(e,t){return this.getEncoder(e)(t)}hashStruct(e,t){return tq(this.encodeData(e,t))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,t,r){if(rs(e))return r(e,t);let n=ro(e).array;if(n)return eQ(-1===n.count||n.count===t.length,`array length mismatch; expected length ${n.count}`,"value",t),t.map(e=>this._visit(n.prefix,e,r));let i=this.types[e];if(i)return i.reduce((e,{name:n,type:i})=>(e[n]=this._visit(i,t[n],r),e),{});eQ(!1,`unknown type: ${e}`,"type",e)}visit(e,t){return this._visit(this.primaryType,e,t)}static from(e){return new rl(e)}static getPrimaryType(e){return rl.from(e).primaryType}static hashStruct(e,t,r){return rl.from(t).hashStruct(e,r)}static hashDomain(e){let t=[];for(let r in e){if(null==e[r])continue;let n=rt[r];eQ(n,`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",e),t.push({name:r,type:n})}return t.sort((e,t)=>rr.indexOf(e.name)-rr.indexOf(t.name)),rl.hashStruct("EIP712Domain",{EIP712Domain:t},e)}static encode(e,t,r){return te(["0x1901",rl.hashDomain(e),rl.from(t).hash(r)])}static hash(e,t,r){return tq(rl.encode(e,t,r))}static async resolveNames(e,t,r,n){for(let t in e=Object.assign({},e))null==e[t]&&delete e[t];let i={};e.verifyingContract&&!e7(e.verifyingContract,20)&&(i[e.verifyingContract]="0x");let s=rl.from(t);for(let e in s.visit(r,(e,t)=>("address"!==e||e7(t,20)||(i[t]="0x"),t)),i)i[e]=await n(e);return e.verifyingContract&&i[e.verifyingContract]&&(e.verifyingContract=i[e.verifyingContract]),r=s.visit(r,(e,t)=>"address"===e&&i[t]?i[t]:t),{domain:e,value:r}}static getPayload(e,t,r){rl.hashDomain(e);let n={},i=[];rr.forEach(t=>{let r=e[t];null!=r&&(n[t]=ri[t](r),i.push({name:t,type:rt[t]}))});let s=rl.from(t),a=Object.assign({},t=s.types);return eQ(null==a.EIP712Domain,"types must not contain EIP712Domain type","types.EIP712Domain",t),a.EIP712Domain=i,s.encode(r),{types:a,domain:n,primaryType:s.primaryType,message:s.visit(r,(e,t)=>{if(e.match(/^bytes(\d*)/))return e9(e4(t));if(e.match(/^u?int/))return ta(t).toString();switch(e){case"address":return t.toLowerCase();case"bool":return!!t;case"string":return eQ("string"==typeof t,"invalid string","value",t),t}eQ(!1,"unsupported type","type",e)})}}}let ru="0x0000000000000000000000000000000000000000";function rh(e,t,r){let n=0;for(let i=0;i<r;i++)n=256*n+e[t+i];return n}function rc(e,t,r,n){let i=[];for(;r<t+1+n;){let s=rf(e,r);i.push(s.result),eX((r+=s.consumed)<=t+1+n,"child data too short","BUFFER_OVERRUN",{buffer:e,length:n,offset:t})}return{consumed:1+n,result:i}}function rf(e,t){eX(0!==e.length,"data too short","BUFFER_OVERRUN",{buffer:e,length:0,offset:1});let r=t=>{eX(t<=e.length,"data short segment too short","BUFFER_OVERRUN",{buffer:e,length:e.length,offset:t})};if(e[t]>=248){let n=e[t]-247;r(t+1+n);let i=rh(e,t+1,n);return r(t+1+n+i),rc(e,t,t+1+n,n+i)}if(e[t]>=192){let n=e[t]-192;return r(t+1+n),rc(e,t,t+1,n)}if(e[t]>=184){let n=e[t]-183;r(t+1+n);let i=rh(e,t+1,n);r(t+1+n+i);let s=e9(e.slice(t+1+n,t+1+n+i));return{consumed:1+n+i,result:s}}if(e[t]>=128){let n=e[t]-128;r(t+1+n);let i=e9(e.slice(t+1,t+1+n));return{consumed:1+n,result:i}}return{consumed:1,result:function(e){let t=e.toString(16);for(;t.length<2;)t="0"+t;return"0x"+t}(e[t])}}function rd(e){let t=e4(e,"data"),r=rf(t,0);return eQ(r.consumed===t.length,"unexpected junk after rlp payload","data",e),r.result}function rp(e){let t=[];for(;e;)t.unshift(255&e),e>>=8;return t}let ry="0123456789abcdef";function rg(e){let t="0x";for(let r of function e(t){if(Array.isArray(t)){let r=[];if(t.forEach(function(t){r=r.concat(e(t))}),r.length<=55)return r.unshift(192+r.length),r;let n=rp(r.length);return n.unshift(247+n.length),n.concat(r)}let r=Array.prototype.slice.call(e4(t,"object"));if(1===r.length&&r[0]<=127)return r;if(r.length<=55)return r.unshift(128+r.length),r;let n=rp(r.length);return n.unshift(183+n.length),n.concat(r)}(e))t+=ry[r>>4]+ry[15&r];return t}function rm(e,t){return{address:tQ(e),storageKeys:t.map((e,t)=>(eQ(e7(e,32),"invalid slot",`storageKeys[${t}]`,e),e.toLowerCase()))}}function rw(e){if(Array.isArray(e))return e.map((t,r)=>Array.isArray(t)?(eQ(2===t.length,"invalid slot set",`value[${r}]`,t),rm(t[0],t[1])):(eQ(null!=t&&"object"==typeof t,"invalid address-slot set","value",e),rm(t.address,t.storageKeys)));eQ(null!=e&&"object"==typeof e,"invalid access list","value",e);let t=Object.keys(e).map(t=>{let r=e[t].reduce((e,t)=>(e[t]=!0,e),{});return rm(t,Object.keys(r).sort())});return t.sort((e,t)=>e.address.localeCompare(t.address)),t}function rb(e){return tQ(tq("0x"+("string"==typeof e?tI.computePublicKey(e,!1):e.publicKey).substring(4)).substring(26))}let rv=BigInt(0),rE=BigInt(2),rI=BigInt(27),rP=BigInt(28),rA=BigInt(35),rN=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function rx(e){return"0x"===e?null:tQ(e)}function rO(e,t){try{return rw(e)}catch(r){eQ(!1,r.message,t,e)}}function rR(e,t){return"0x"===e?0:th(e,t)}function rS(e,t){if("0x"===e)return rv;let r=ta(e,t);return eQ(r<=rN,"value exceeds uint size",t,r),r}function rT(e,t){let r=ta(e,"value"),n=tf(r);return eQ(n.length<=32,"value too large",`tx.${t}`,r),n}function rk(e){return rw(e).map(e=>[e.address,e.storageKeys])}function rU(e,t){let r=[rT(e.nonce,"nonce"),rT(e.gasPrice||0,"gasPrice"),rT(e.gasLimit,"gasLimit"),e.to||"0x",rT(e.value,"value"),e.data],n=rv;if(e.chainId!=rv)n=ta(e.chainId,"tx.chainId"),eQ(!t||null==t.networkV||t.legacyChainId===n,"tx.chainId/sig.v mismatch","sig",t);else if(e.signature){let t=e.signature.legacyChainId;null!=t&&(n=t)}if(!t)return n!==rv&&(r.push(tf(n)),r.push("0x"),r.push("0x")),rg(r);let i=BigInt(27+t.yParity);return n!==rv?i=tE.getChainIdV(n,t.v):BigInt(t.v)!==i&&eQ(!1,"tx.chainId/sig.v mismatch","sig",t),r.push(tf(i)),r.push(tf(t.r)),r.push(tf(t.s)),rg(r)}function rB(e,t){let r;try{if(r=rR(t[0],"yParity"),0!==r&&1!==r)throw Error("bad yParity")}catch(e){eQ(!1,"invalid yParity","yParity",t[0])}let n=tn(t[1],32),i=tn(t[2],32),s=tE.from({r:n,s:i,yParity:r});e.signature=s}function rL(e,t){let r=[rT(e.chainId,"chainId"),rT(e.nonce,"nonce"),rT(e.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),rT(e.maxFeePerGas||0,"maxFeePerGas"),rT(e.gasLimit,"gasLimit"),e.to||"0x",rT(e.value,"value"),e.data,rk(e.accessList||[])];return t&&(r.push(rT(t.yParity,"yParity")),r.push(tf(t.r)),r.push(tf(t.s))),te(["0x02",rg(r)])}function rC(e,t){let r=[rT(e.chainId,"chainId"),rT(e.nonce,"nonce"),rT(e.gasPrice||0,"gasPrice"),rT(e.gasLimit,"gasLimit"),e.to||"0x",rT(e.value,"value"),e.data,rk(e.accessList||[])];return t&&(r.push(rT(t.yParity,"recoveryParam")),r.push(tf(t.r)),r.push(tf(t.s))),te(["0x01",rg(r)])}function rF(e,t){let r=[rT(e.chainId,"chainId"),rT(e.nonce,"nonce"),rT(e.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),rT(e.maxFeePerGas||0,"maxFeePerGas"),rT(e.gasLimit,"gasLimit"),e.to||ru,rT(e.value,"value"),e.data,rk(e.accessList||[]),rT(e.maxFeePerBlobGas||0,"maxFeePerBlobGas"),function(e,t){eQ(Array.isArray(e),`invalid ${t}`,"value",e);for(let t=0;t<e.length;t++)eQ(e7(e[t],32),"invalid ${ param } hash",`value[${t}]`,e[t]);return e}(e.blobVersionedHashes||[],"blobVersionedHashes")];return t&&(r.push(rT(t.yParity,"yParity")),r.push(tf(t.r)),r.push(tf(t.s))),te(["0x03",rg(r)])}class rD{#u;#h;#c;#f;#d;#p;#y;#g;#m;#w;#b;#v;#E;#I;get type(){return this.#u}set type(e){switch(e){case null:this.#u=null;break;case 0:case"legacy":this.#u=0;break;case 1:case"berlin":case"eip-2930":this.#u=1;break;case 2:case"london":case"eip-1559":this.#u=2;break;case 3:case"cancun":case"eip-4844":this.#u=3;break;default:eQ(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844"}return null}get to(){let e=this.#h;return null==e&&3===this.type?ru:e}set to(e){this.#h=null==e?null:tQ(e)}get nonce(){return this.#f}set nonce(e){this.#f=th(e,"value")}get gasLimit(){return this.#d}set gasLimit(e){this.#d=ta(e)}get gasPrice(){let e=this.#p;return null==e&&(0===this.type||1===this.type)?rv:e}set gasPrice(e){this.#p=null==e?null:ta(e,"gasPrice")}get maxPriorityFeePerGas(){let e=this.#y;return null==e?2===this.type||3===this.type?rv:null:e}set maxPriorityFeePerGas(e){this.#y=null==e?null:ta(e,"maxPriorityFeePerGas")}get maxFeePerGas(){let e=this.#g;return null==e?2===this.type||3===this.type?rv:null:e}set maxFeePerGas(e){this.#g=null==e?null:ta(e,"maxFeePerGas")}get data(){return this.#c}set data(e){this.#c=e9(e)}get value(){return this.#m}set value(e){this.#m=ta(e,"value")}get chainId(){return this.#w}set chainId(e){this.#w=ta(e)}get signature(){return this.#b||null}set signature(e){this.#b=null==e?null:tE.from(e)}get accessList(){let e=this.#v||null;return null==e?1===this.type||2===this.type||3===this.type?[]:null:e}set accessList(e){this.#v=null==e?null:rw(e)}get maxFeePerBlobGas(){let e=this.#E;return null==e&&3===this.type?rv:e}set maxFeePerBlobGas(e){this.#E=null==e?null:ta(e,"maxFeePerBlobGas")}get blobVersionedHashes(){let e=this.#I;return null==e&&3===this.type?[]:e}set blobVersionedHashes(e){if(null!=e){eQ(Array.isArray(e),"blobVersionedHashes must be an Array","value",e),e=e.slice();for(let t=0;t<e.length;t++)eQ(e7(e[t],32),"invalid blobVersionedHash",`value[${t}]`,e[t])}this.#I=e}constructor(){this.#u=null,this.#h=null,this.#f=0,this.#d=rv,this.#p=null,this.#y=null,this.#g=null,this.#c="0x",this.#m=rv,this.#w=rv,this.#b=null,this.#v=null,this.#E=null,this.#I=null}get hash(){return null==this.signature?null:tq(this.serialized)}get unsignedHash(){return tq(this.unsignedSerialized)}get from(){var e,t;return null==this.signature?null:(e=this.unsignedHash,t=this.signature,rb(tI.recoverPublicKey(e,t)))}get fromPublicKey(){return null==this.signature?null:tI.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return null!=this.signature}get serialized(){switch(eX(null!=this.signature,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"}),this.inferType()){case 0:return rU(this,this.signature);case 1:return rC(this,this.signature);case 2:return rL(this,this.signature);case 3:return rF(this,this.signature)}eX(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})}get unsignedSerialized(){switch(this.inferType()){case 0:return rU(this);case 1:return rC(this);case 2:return rL(this);case 3:return rF(this)}eX(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".unsignedSerialized"})}inferType(){let e=this.inferTypes();return e.indexOf(2)>=0?2:e.pop()}inferTypes(){let e=null!=this.gasPrice,t=null!=this.maxFeePerGas||null!=this.maxPriorityFeePerGas,r=null!=this.accessList,n=null!=this.#E||this.#I;null!=this.maxFeePerGas&&null!=this.maxPriorityFeePerGas&&eX(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),eX(!t||0!==this.type&&1!==this.type,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),eX(0!==this.type||!r,"legacy transaction cannot have accessList","BAD_DATA",{value:this});let i=[];return null!=this.type?i.push(this.type):t?i.push(2):e?(i.push(1),r||i.push(0)):r?(i.push(1),i.push(2)):(n&&this.to||(i.push(0),i.push(1),i.push(2)),i.push(3)),i.sort(),i}isLegacy(){return 0===this.type}isBerlin(){return 1===this.type}isLondon(){return 2===this.type}isCancun(){return 3===this.type}clone(){return rD.from(this)}toJSON(){let e=e=>null==e?null:e.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(e){if(null==e)return new rD;if("string"==typeof e){let t=e4(e);if(t[0]>=127)return rD.from(function(e){let t=rd(e);eQ(Array.isArray(t)&&(9===t.length||6===t.length),"invalid field count for legacy transaction","data",e);let r={type:0,nonce:rR(t[0],"nonce"),gasPrice:rS(t[1],"gasPrice"),gasLimit:rS(t[2],"gasLimit"),to:rx(t[3]),value:rS(t[4],"value"),data:e9(t[5]),chainId:rv};if(6===t.length)return r;let n=rS(t[6],"v"),i=rS(t[7],"r"),s=rS(t[8],"s");if(i===rv&&s===rv)r.chainId=n;else{let i=(n-rA)/rE;i<rv&&(i=rv),r.chainId=i,eQ(i!==rv||n===rI||n===rP,"non-canonical legacy v","v",t[6]),r.signature=tE.from({r:tn(t[7],32),s:tn(t[8],32),v:n}),r.hash=tq(e)}return r}(t));switch(t[0]){case 1:return rD.from(function(e){let t=rd(e4(e).slice(1));eQ(Array.isArray(t)&&(8===t.length||11===t.length),"invalid field count for transaction type: 1","data",e9(e));let r={type:1,chainId:rS(t[0],"chainId"),nonce:rR(t[1],"nonce"),gasPrice:rS(t[2],"gasPrice"),gasLimit:rS(t[3],"gasLimit"),to:rx(t[4]),value:rS(t[5],"value"),data:e9(t[6]),accessList:rO(t[7],"accessList")};return 8===t.length||(r.hash=tq(e),rB(r,t.slice(8))),r}(t));case 2:return rD.from(function(e){let t=rd(e4(e).slice(1));eQ(Array.isArray(t)&&(9===t.length||12===t.length),"invalid field count for transaction type: 2","data",e9(e));let r={type:2,chainId:rS(t[0],"chainId"),nonce:rR(t[1],"nonce"),maxPriorityFeePerGas:rS(t[2],"maxPriorityFeePerGas"),maxFeePerGas:rS(t[3],"maxFeePerGas"),gasPrice:null,gasLimit:rS(t[4],"gasLimit"),to:rx(t[5]),value:rS(t[6],"value"),data:e9(t[7]),accessList:rO(t[8],"accessList")};return 9===t.length||(r.hash=tq(e),rB(r,t.slice(9))),r}(t));case 3:return rD.from(function(e){let t=rd(e4(e).slice(1));eQ(Array.isArray(t)&&(11===t.length||14===t.length),"invalid field count for transaction type: 3","data",e9(e));let r={type:3,chainId:rS(t[0],"chainId"),nonce:rR(t[1],"nonce"),maxPriorityFeePerGas:rS(t[2],"maxPriorityFeePerGas"),maxFeePerGas:rS(t[3],"maxFeePerGas"),gasPrice:null,gasLimit:rS(t[4],"gasLimit"),to:rx(t[5]),value:rS(t[6],"value"),data:e9(t[7]),accessList:rO(t[8],"accessList"),maxFeePerBlobGas:rS(t[9],"maxFeePerBlobGas"),blobVersionedHashes:t[10]};eQ(null!=r.to,"invalid address for transaction type: 3","data",e),eQ(Array.isArray(r.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",e);for(let t=0;t<r.blobVersionedHashes.length;t++)eQ(e7(r.blobVersionedHashes[t],32),`invalid blobVersionedHash at index ${t}: must be length 32`,"data",e);return 11===t.length||(r.hash=tq(e),rB(r,t.slice(11))),r}(t))}eX(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}let t=new rD;return null!=e.type&&(t.type=e.type),null!=e.to&&(t.to=e.to),null!=e.nonce&&(t.nonce=e.nonce),null!=e.gasLimit&&(t.gasLimit=e.gasLimit),null!=e.gasPrice&&(t.gasPrice=e.gasPrice),null!=e.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=e.maxPriorityFeePerGas),null!=e.maxFeePerGas&&(t.maxFeePerGas=e.maxFeePerGas),null!=e.maxFeePerBlobGas&&(t.maxFeePerBlobGas=e.maxFeePerBlobGas),null!=e.data&&(t.data=e.data),null!=e.value&&(t.value=e.value),null!=e.chainId&&(t.chainId=e.chainId),null!=e.signature&&(t.signature=tE.from(e.signature)),null!=e.accessList&&(t.accessList=e.accessList),null!=e.blobVersionedHashes&&(t.blobVersionedHashes=e.blobVersionedHashes),null!=e.hash&&(eQ(t.isSigned(),"unsigned transaction cannot define hash","tx",e),eQ(t.hash===e.hash,"hash mismatch","tx",e)),null!=e.from&&(eQ(t.isSigned(),"unsigned transaction cannot define from","tx",e),eQ(t.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),t}}let r$=BigInt(0);function rG(e){return null==e?null:e.toString()}Symbol.iterator,Symbol.iterator;class rM{#P;constructor(e,t){this.provider=t,this.blockNumber=null!=e.blockNumber?e.blockNumber:null,this.blockHash=null!=e.blockHash?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.from=e.from,this.to=e.to||null,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.data=e.data,this.value=e.value,this.gasPrice=e.gasPrice,this.maxPriorityFeePerGas=null!=e.maxPriorityFeePerGas?e.maxPriorityFeePerGas:null,this.maxFeePerGas=null!=e.maxFeePerGas?e.maxFeePerGas:null,this.maxFeePerBlobGas=null!=e.maxFeePerBlobGas?e.maxFeePerBlobGas:null,this.chainId=e.chainId,this.signature=e.signature,this.accessList=null!=e.accessList?e.accessList:null,this.blobVersionedHashes=null!=e.blobVersionedHashes?e.blobVersionedHashes:null,this.#P=-1}toJSON(){let{blockNumber:e,blockHash:t,index:r,hash:n,type:i,to:s,from:a,nonce:o,data:l,signature:u,accessList:h,blobVersionedHashes:c}=this;return{_type:"TransactionResponse",accessList:h,blockNumber:e,blockHash:t,blobVersionedHashes:c,chainId:rG(this.chainId),data:l,from:a,gasLimit:rG(this.gasLimit),gasPrice:rG(this.gasPrice),hash:n,maxFeePerGas:rG(this.maxFeePerGas),maxPriorityFeePerGas:rG(this.maxPriorityFeePerGas),maxFeePerBlobGas:rG(this.maxFeePerBlobGas),nonce:o,signature:u,to:s,index:r,type:i,value:rG(this.value)}}async getBlock(){let e=this.blockNumber;if(null==e){let t=await this.getTransaction();t&&(e=t.blockNumber)}if(null==e)return null;let t=this.provider.getBlock(e);if(null==t)throw Error("TODO");return t}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(null==this.blockNumber){let{tx:e,blockNumber:t}=await eZ({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return null==e||null==e.blockNumber?0:t-e.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(e,t){let r=null==e?1:e,n=null==t?0:t,i=this.#P,s=-1,a=-1===i,o=async()=>{if(a)return null;let{blockNumber:e,nonce:t}=await eZ({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(t<this.nonce){i=e;return}if(a)return null;let n=await this.getTransaction();if(!n||null==n.blockNumber)for(-1===s&&(s=i-3)<this.#P&&(s=this.#P);s<=e;){if(a)return null;let t=await this.provider.getBlock(s,!0);if(null==t)break;for(let e of t)if(e===this.hash)return;for(let n=0;n<t.length;n++){let s=await t.getTransaction(n);if(s.from===this.from&&s.nonce===this.nonce){if(a)return null;let t=await this.provider.getTransactionReceipt(s.hash);if(null==t||e-t.blockNumber+1<r)return;let n="replaced";s.data===this.data&&s.to===this.to&&s.value===this.value?n="repriced":"0x"===s.data&&s.from===s.to&&s.value===r$&&(n="cancelled"),eX(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:"replaced"===n||"cancelled"===n,reason:n,replacement:s.replaceableTransaction(i),hash:s.hash,receipt:t})}}s++}},l=e=>{if(null==e||0!==e.status)return e;eX(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:e.to,from:e.from,data:""},receipt:e})},u=await this.provider.getTransactionReceipt(this.hash);if(0===r)return l(u);if(u){if(await u.confirmations()>=r)return l(u)}else if(await o(),0===r)return null;let h=new Promise((e,t)=>{let s=[],u=()=>{s.forEach(e=>e())};if(s.push(()=>{a=!0}),n>0){let e=setTimeout(()=>{u(),t(eJ("wait for transaction timeout","TIMEOUT"))},n);s.push(()=>{clearTimeout(e)})}let h=async n=>{if(await n.confirmations()>=r){u();try{e(l(n))}catch(e){t(e)}}};if(s.push(()=>{this.provider.off(this.hash,h)}),this.provider.on(this.hash,h),i>=0){let e=async()=>{try{await o()}catch(e){if(e&&"TRANSACTION_REPLACED"===e.code){u(),t(e);return}}a||this.provider.once("block",e)};s.push(()=>{this.provider.off("block",e)}),this.provider.once("block",e)}});return await h}isMined(){return null!=this.blockHash}isLegacy(){return 0===this.type}isBerlin(){return 1===this.type}isLondon(){return 2===this.type}isCancun(){return 3===this.type}removedEvent(){var e;return eX(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),e=this,{orphan:"drop-transaction",tx:e}}reorderedEvent(e){var t;return eX(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),eX(!e||e.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),t=this,{orphan:"reorder-transaction",tx:t,other:e}}replaceableTransaction(e){eQ(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);let t=new rM(this,this.provider);return t.#P=e,t}}function r_(e,t){if(e.provider)return e.provider;eX(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:t})}async function rV(e,t){let r=function(e){let t={};for(let r of(e.to&&(t.to=e.to),e.from&&(t.from=e.from),e.data&&(t.data=e9(e.data)),"chainId,gasLimit,gasPrice,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/)))r in e&&null!=e[r]&&(t[r]=ta(e[r],`request.${r}`));for(let r of"type,nonce".split(/,/))r in e&&null!=e[r]&&(t[r]=th(e[r],`request.${r}`));return e.accessList&&(t.accessList=rw(e.accessList)),"blockTag"in e&&(t.blockTag=e.blockTag),"enableCcipRead"in e&&(t.enableCcipRead=!!e.enableCcipRead),"customData"in e&&(t.customData=e.customData),t}(t);if(null!=r.to&&(r.to=t2(r.to,e)),null!=r.from){let t=r.from;r.from=Promise.all([e.getAddress(),t2(t,e)]).then(([e,t])=>(eQ(e.toLowerCase()===t.toLowerCase(),"transaction from mismatch","tx.from",t),e))}else r.from=e.getAddress();return await eZ(r)}class rj{constructor(e){eW(this,{provider:e||null})}async getNonce(e){return r_(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await rV(this,e)}async populateTransaction(e){let t=r_(this,"populateTransaction"),r=await rV(this,e);null==r.nonce&&(r.nonce=await this.getNonce("pending")),null==r.gasLimit&&(r.gasLimit=await this.estimateGas(r));let n=await this.provider.getNetwork();null!=r.chainId?eQ(ta(r.chainId)===n.chainId,"transaction chainId mismatch","tx.chainId",e.chainId):r.chainId=n.chainId;let i=null!=r.maxFeePerGas||null!=r.maxPriorityFeePerGas;if(null!=r.gasPrice&&(2===r.type||i)?eQ(!1,"eip-1559 transaction do not support gasPrice","tx",e):(0===r.type||1===r.type)&&i&&eQ(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e),(2===r.type||null==r.type)&&null!=r.maxFeePerGas&&null!=r.maxPriorityFeePerGas)r.type=2;else if(0===r.type||1===r.type){let e=await t.getFeeData();eX(null!=e.gasPrice,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),null==r.gasPrice&&(r.gasPrice=e.gasPrice)}else{let e=await t.getFeeData();if(null==r.type){if(null!=e.maxFeePerGas&&null!=e.maxPriorityFeePerGas){if(r.type=2,null!=r.gasPrice){let e=r.gasPrice;delete r.gasPrice,r.maxFeePerGas=e,r.maxPriorityFeePerGas=e}else null==r.maxFeePerGas&&(r.maxFeePerGas=e.maxFeePerGas),null==r.maxPriorityFeePerGas&&(r.maxPriorityFeePerGas=e.maxPriorityFeePerGas)}else null!=e.gasPrice?(eX(!i,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),null==r.gasPrice&&(r.gasPrice=e.gasPrice),r.type=0):eX(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"})}else 2===r.type&&(null==r.maxFeePerGas&&(r.maxFeePerGas=e.maxFeePerGas),null==r.maxPriorityFeePerGas&&(r.maxPriorityFeePerGas=e.maxPriorityFeePerGas))}return await eZ(r)}async estimateGas(e){return r_(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return r_(this,"call").call(await this.populateCall(e))}async resolveName(e){let t=r_(this,"resolveName");return await t.resolveName(e)}async sendTransaction(e){let t=r_(this,"sendTransaction"),r=await this.populateTransaction(e);delete r.from;let n=rD.from(r);return await t.broadcastTransaction(await this.signTransaction(n))}}class rK extends rj{constructor(e,t){super(t),eW(this,{address:e})}async getAddress(){return this.address}connect(e){return new rK(this.address,e)}#A(e,t){eX(!1,`VoidSigner cannot sign ${e}`,"UNSUPPORTED_OPERATION",{operation:t})}async signTransaction(e){this.#A("transactions","signTransaction")}async signMessage(e){this.#A("messages","signMessage")}async signTypedData(e,t,r){this.#A("typed-data","signTypedData")}}class rH extends rj{#N;constructor(e,t){super(t),eQ(e&&"function"==typeof e.sign,"invalid private key","privateKey","[ REDACTED ]"),this.#N=e,eW(this,{address:rb(this.signingKey.publicKey)})}get signingKey(){return this.#N}get privateKey(){return this.signingKey.privateKey}async getAddress(){return this.address}connect(e){return new rH(this.#N,e)}async signTransaction(e){let{to:t,from:r}=await eZ({to:e.to?t2(e.to,this.provider):void 0,from:e.from?t2(e.from,this.provider):void 0});null!=t&&(e.to=t),null!=r&&(e.from=r),null!=e.from&&(eQ(tQ(e.from)===this.address,"transaction from address mismatch","tx.from",e.from),delete e.from);let n=rD.from(e);return n.signature=this.signingKey.sign(n.unsignedHash),n.serialized}async signMessage(e){return this.signMessageSync(e)}signMessageSync(e){var t;return this.signingKey.sign(("string"==typeof(t=e)&&(t=t3(t)),tq(te([t3("\x19Ethereum Signed Message:\n"),t3(String(t.length)),t])))).serialized}async signTypedData(e,t,r){let n=await rl.resolveNames(e,t,r,async e=>{eX(null!=this.provider,"cannot resolve ENS names without a provider","UNSUPPORTED_OPERATION",{operation:"resolveName",info:{name:e}});let t=await this.provider.resolveName(e);return eX(null!=t,"unconfigured ENS name","UNCONFIGURED_NAME",{value:e}),t});return this.signingKey.sign(rl.hash(n.domain,t,n.value)).serialized}}var rz=r(6113);let rq=function(e){return(0,rz.createHash)("sha256").update(e).digest()},rZ=function(e){return(0,rz.createHash)("sha512").update(e).digest()},rW=rq,rY=rZ,rJ=!1,rX=!1;function rQ(e){let t=e4(e,"data");return e9(rW(t))}function r1(e){let t=e4(e,"data");return e9(rY(t))}rQ._=rq,rQ.lock=function(){rJ=!0},rQ.register=function(e){if(rJ)throw Error("sha256 is locked");rW=e},Object.freeze(rQ),r1._=rZ,r1.lock=function(){rX=!0},r1.register=function(e){if(rX)throw Error("sha512 is locked");rY=e},Object.freeze(rQ);let r2=!1,r0=function(e,t,r){return(0,rz.createHmac)(e,t).update(r).digest()},r3=r0;function r4(e,t,r){let n=e4(t,"key"),i=e4(r,"data");return e9(r3(e,n,i))}r4._=r0,r4.lock=function(){r2=!0},r4.register=function(e){if(r2)throw Error("computeHmac is locked");r3=e},Object.freeze(r4);let r5=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),r7=Uint8Array.from({length:16},(e,t)=>t),r6=r7.map(e=>(9*e+5)%16),r8=[r7],r9=[r6];for(let e=0;e<4;e++)for(let t of[r8,r9])t.push(t[e].map(e=>r5[e]));let ne=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(e=>new Uint8Array(e)),nt=r8.map((e,t)=>e.map(e=>ne[t][e])),nr=r9.map((e,t)=>e.map(e=>ne[t][e])),nn=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),ni=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),ns=(e,t)=>e<<t|e>>>32-t;function na(e,t,r,n){return 0===e?t^r^n:1===e?t&r|~t&n:2===e?(t|~r)^n:3===e?t&n|r&~n:t^(r|~n)}let no=new Uint32Array(16);class nl extends V{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){let{h0:e,h1:t,h2:r,h3:n,h4:i}=this;return[e,t,r,n,i]}set(e,t,r,n,i){this.h0=0|e,this.h1=0|t,this.h2=0|r,this.h3=0|n,this.h4=0|i}process(e,t){for(let r=0;r<16;r++,t+=4)no[r]=e.getUint32(t,!0);let r=0|this.h0,n=r,i=0|this.h1,s=i,a=0|this.h2,o=a,l=0|this.h3,u=l,h=0|this.h4,c=h;for(let e=0;e<5;e++){let t=4-e,f=nn[e],d=ni[e],p=r8[e],y=r9[e],g=nt[e],m=nr[e];for(let t=0;t<16;t++){let n=ns(r+na(e,i,a,l)+no[p[t]]+f,g[t])+h|0;r=h,h=l,l=0|ns(a,10),a=i,i=n}for(let e=0;e<16;e++){let r=ns(n+na(t,s,o,u)+no[y[e]]+d,m[e])+c|0;n=c,c=u,u=0|ns(o,10),o=s,s=r}}this.set(this.h1+a+u|0,this.h2+l+c|0,this.h3+h+n|0,this.h4+r+s|0,this.h0+i+o|0)}roundClean(){no.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}let nu=M(()=>new nl),nh=!1,nc=function(e){return nu(e)},nf=nc;function nd(e){let t=e4(e,"data");return e9(nf(t))}nd._=nc,nd.lock=function(){nh=!0},nd.register=function(e){if(nh)throw TypeError("ripemd160 is locked");nf=e},Object.freeze(nd);let np=!1,ny=function(e){return new Uint8Array((0,rz.randomBytes)(e))},ng=ny;function nm(e){return ng(e)}nm._=ny,nm.lock=function(){np=!0},nm.register=function(e){if(np)throw Error("randomBytes is locked");ng=e},Object.freeze(nm);let nw="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",nb=null,nv=BigInt(0),nE=BigInt(58),nI=" !#$%&'()*+,-./<=>?@[]^_`{|}~",nP=/^[a-z]*$/i;function nA(e,t){let r=97;return e.reduce((e,n)=>(n===t?r++:n.match(nP)?e.push(String.fromCharCode(r)+n):(r=97,e.push(n)),e),[])}class nN{constructor(e){eW(this,{locale:e})}split(e){return e.toLowerCase().split(/\s+/g)}join(e){return e.join(" ")}}class nx extends nN{#c;#x;constructor(e,t,r){super(e),this.#c=t,this.#x=r,this.#O=null}get _data(){return this.#c}_decodeWords(){var e;return eQ("0"===(e=this.#c)[0],"unsupported auwl data","data",e),function(e,t){for(let r=nI.length-1;r>=0;r--)e=e.split(nI[r]).join(t.substring(2*r,2*r+2));let r=[],n=e.replace(/(:|([0-9])|([A-Z][a-z]*))/g,(e,t,n,i)=>{if(n)for(let e=parseInt(n);e>=0;e--)r.push(";");else r.push(t.toLowerCase());return""});if(n)throw Error(`leftovers: ${JSON.stringify(n)}`);return nA(nA(r,";"),":")}(e.substring(1+2*nI.length),e.substring(1,1+2*nI.length))}#O;#R(){if(null==this.#O){let e=this._decodeWords();if(tq(t3(e.join("\n")+"\n"))!==this.#x)throw Error(`BIP39 Wordlist for ${this.locale} FAILED`);this.#O=e}return this.#O}getWord(e){let t=this.#R();return eQ(e>=0&&e<t.length,`invalid word index: ${e}`,"index",e),t[e]}getWordIndex(e){return this.#R().indexOf(e)}}let nO=null;class nR extends nx{constructor(){super("en","0erleonalorenseinceregesticitStanvetearctssi#ch2Athck&tneLl0And#Il.yLeOutO=S|S%b/ra@SurdU'0Ce[Cid|CountCu'Hie=IdOu,-Qui*Ro[TT]T%T*[Tu$0AptDD-tD*[Ju,M.UltV<)Vi)0Rob-0FairF%dRaid0A(EEntRee0Ead0MRRp%tS!_rmBumCoholErtI&LLeyLowMo,O}PhaReadySoT Ways0A>urAz(gOngOuntU'd0Aly,Ch%Ci|G G!GryIm$K!Noun)Nu$O` Sw T&naTiqueXietyY1ArtOlogyPe?P!Pro=Ril1ChCt-EaEnaGueMMedM%MyOundR<+Re,Ri=RowTTefa@Ti,Tw%k0KPe@SaultSetSi,SumeThma0H!>OmTa{T&dT.udeTra@0Ct]D.Gu,NtTh%ToTumn0Era+OcadoOid0AkeA*AyEsomeFulKw?d0Is:ByChel%C#D+GL<)Lc#y~MbooN<aNn RRelyRga(R*lSeS-SketTt!3A^AnAutyCau'ComeEfF%eG(Ha=H(dLie=LowLtN^Nef./TrayTt Twe&Y#d3Cyc!DKeNdOlogyRdR`Tt _{AdeAmeAnketA,EakE[IndOodO[omOu'UeUrUsh_rdAtDyIlMbNeNusOkO,Rd R(gRrowSsTtomUn)XY_{etA(AndA[A=EadEezeI{Id+IefIghtIngIskOccoliOk&OnzeOomO` OwnUsh2Bb!DdyD+tFf$oIldLbLkL!tNd!Nk Rd&Rg R,SS(e[SyTt Y Zz:Bba+B(B!CtusGeKe~LmM aMpNN$N)lNdyNn#NoeNvasNy#Pab!P.$Pta(RRb#RdRgoRpetRryRtSeShS(o/!Su$TT$ogT^Teg%yTt!UghtU'Ut]Ve3Il(gL yM|NsusNturyRe$Rta(_irAlkAmp]An+AosApt Ar+A'AtEapE{Ee'EfErryE,I{&IefIldIm}yOi)Oo'R#-U{!UnkUrn0G?Nnam#Rc!Tiz&TyVil_imApArifyAwAyE<ErkEv I{I|IffImbIn-IpO{OgO'O`OudOwnUbUmpU, Ut^_^A,C#utDeFfeeIlInL!@L%LumnMb(eMeMf%tM-Mm#Mp<yNc tNdu@NfirmNg*[N}@Nsid NtrolNv()OkOlPp PyR$ReRnR*@/Tt#U^UntryUp!Ur'Us(V Yo>_{Ad!AftAmA}AshAt AwlAzyEamEd.EekEwI{etImeIspIt-OpO[Ou^OwdUci$UelUi'Umb!Un^UshYY,$2BeLtu*PPbo?dRiousRr|Rta(R=Sh]/omTe3C!:DMa+MpN)Ng R(gShUght WnY3AlBa>BrisCadeCemb CideCl(eC%a>C*a'ErF&'F(eFyG*eLayLiv M<dMi'Ni$Nti,NyP?tP&dPos.P`PutyRi=ScribeS tSignSkSpair/royTailTe@VelopVi)Vo>3AgramAlAm#dAryCeE'lEtFf G.$Gn.yLemmaNn NosaurRe@RtSag*eScov Sea'ShSmi[S%d Splay/<)V tVideV%)Zzy5Ct%Cum|G~Lph(Ma(Na>NkeyN%OrSeUb!Ve_ftAg#AmaA,-AwEamE[IftIllInkIpI=OpUmY2CkMbNeR(g/T^Ty1Arf1Nam-:G G!RlyRnR`Sily/Sy1HoOlogyOnomy0GeItUca>1F%t0G1GhtTh 2BowD E@r-Eg<tEm|Eph<tEvat%I>Se0B?kBodyBra)Er+Ot]PloyPow Pty0Ab!A@DD![D%'EmyErgyF%)Ga+G(eH<)JoyLi,OughR-hRollSu*T Ti*TryVelope1Isode0U$Uip0AA'OdeOs]R%Upt0CapeSayS&)Ta>0Ern$H-s1Id&)IlOkeOl=1A@Amp!Ce[Ch<+C.eCludeCu'Ecu>Erci'Hau,Hib.I!I,ItOt-P<dPe@Pi*Pla(Po'P*[T&dTra0EEbrow:Br-CeCultyDeIntI`~L'MeMilyMousNNcyNtasyRmSh]TT$Th TigueUltV%.e3Atu*Bru?yD $EEdElMa!N)/iv$T^V W3B Ct]EldGu*LeLmLt N$NdNeNg NishReRmR,Sc$ShTT}[X_gAmeAshAtAv%EeIghtIpOatO{O%Ow UidUshY_mCusGIlLd~owOdOtR)Re,R+tRkRtu}RumRw?dSsil/ UndX_gi!AmeEqu|EshI&dIn+OgOntO,OwnOz&U.2ElNNnyRna)RyTu*:D+tInLaxy~ yMePRa+Rba+Rd&Rl-Rm|SSpTeTh U+Ze3N $NiusN*Nt!Nu(e/u*2O,0AntFtGg!Ng RaffeRlVe_dAn)A*A[IdeImp'ObeOomOryO=OwUe_tDde[LdOdO'RillaSpelSsipV nWn_bA)A(AntApeA[Av.yEatE&IdIefItOc yOupOwUnt_rdE[IdeIltIt?N3M:B.IrLfMm M, NdPpyRb%RdRshR=,TVeWkZ?d3AdAl`ArtAvyD+hogIght~oLmetLpNRo3Dd&Gh~NtPRe/%y5BbyCkeyLdLeLiday~owMeNeyOdPeRnRr%R'Sp.$/TelUrV 5BGeM<Mb!M%Nd*dNgryNtRd!RryRtSb<d3Brid:1EOn0EaEntifyLe2N%e4LLeg$L}[0A+Ita>M&'Mu}Pa@Po'Pro=Pul'0ChCludeComeC*a'DexD-a>Do%Du,ryF<tFl-tF%mHa!H .Iti$Je@JuryMa>N Noc|PutQuiryS<eSe@SideSpi*/$lTa@T e,ToVe,V.eVol=3On0L<dOla>Sue0Em1Ory:CketGu?RZz3AlousAns~yWel9BInKeUr}yY5D+I)MpNg!Ni%Nk/:Ng?oo3EnEpT^upY3CkDD}yNdNgdomSsTT^&TeTt&Wi4EeIfeO{Ow:BBelB%Dd DyKeMpNgua+PtopR+T T(UghUndryVaWWnWsu.Y Zy3Ad AfArnA=Ctu*FtGG$G&dIsu*M#NdNg`NsOp?dSs#Tt Vel3ArB tyBr?yC&'FeFtGhtKeMbM.NkOnQuid/Tt!VeZ?d5AdAnB, C$CkG-NelyNgOpTt yUdUn+VeY$5CkyGga+Mb N?N^Xury3R-s:Ch(eDG-G}tIdIlInJ%KeMm$NNa+Nda>NgoNs]Nu$P!Rb!R^Rg(R(eRketRria+SkSs/ T^T i$ThTrixTt XimumZe3AdowAnAsu*AtCh<-D$DiaLodyLtMb M%yNt]NuRcyR+R.RryShSsa+T$Thod3Dd!DnightLk~]M-NdNimumN%Nu>Rac!Rr%S ySs/akeXXedXtu*5Bi!DelDifyMM|N.%NkeyN, N`OnR$ReRn(gSqu.oTh T]T%Unta(U'VeVie5ChFf(LeLtiplySc!SeumShroomS-/Tu$3Self/ yTh:I=MePk(Rrow/yT]Tu*3ArCkEdGati=G!@I` PhewR=/TTw%kUtr$V WsXt3CeGht5B!I'M(eeOd!Rm$R`SeTab!TeTh(gTi)VelW5C!?Mb R'T:K0EyJe@Li+Scu*S =Ta(Vious0CurE<Tob 0Or1FF Fi)T&2L1Ay0DI=Ymp-0It0CeEI#L(eLy1EnEraIn]Po'T]1An+B.Ch?dD D(?yG<I|Ig($Ph<0Tr-h0H 0Tdo%T TputTside0AlEnEr0NN 0Yg&0/ 0O}:CtDd!GeIrLa)LmNdaNelN-N` P RadeR|RkRrotRtySsT^ThTi|TrolTt nU'VeYm|3A)AnutArAs<tL-<NN$tyNcilOp!Pp Rfe@Rm.Rs#T2O}OtoRa'Ys-$0AnoCn-Ctu*E)GGe#~LotNkO} Pe/olT^Zza_)A}tA,-A>AyEa'Ed+U{UgUn+2EmEtIntL?LeLi)NdNyOlPul?Rt]S.]Ssib!/TatoTt yV tyWd W _@i)Ai'Ed-tEf Epa*Es|EttyEv|I)IdeIm?yIntI%.yIs#Iva>IzeOb!mO)[Odu)Of.OgramOje@Omo>OofOp tyOsp O>@OudOvide2Bl-Dd(g~LpL'Mpk(N^PilPpyR^a'R.yRpo'R'ShTZz!3Ramid:99Al.yAntumArt E,]I{ItIzO>:Bb.Cco#CeCkD?DioIlInI'~yMpN^NdomN+PidReTeTh V&WZ%3AdyAlAs#BelBuildC$lCei=CipeC%dCyc!Du)F!@F%mFu'G]G*tGul?Je@LaxLea'LiefLyMa(Memb M(dMo=Nd NewNtOp&PairPeatPla)P%tQui*ScueSemb!Si,Sour)Sp#'SultTi*T*atTurnUn]Ve$ViewW?d2Y`m0BBb#CeChDeD+F!GhtGidNgOtPp!SkTu$V$V 5AdA,BotBu,CketM<)OfOkieOmSeTa>UghUndU>Y$5Bb DeGLeNNwayR$:DDd!D}[FeIlLadLm#L#LtLu>MeMp!NdTisfyToshiU)Usa+VeY1A!AnA*Att E}HemeHoolI&)I[%sOrp]OutRapRe&RiptRub1AAr^As#AtC#dC*tCt]Cur.yEdEkGm|Le@~M(?Ni%N'Nt&)RiesRvi)Ss]Tt!TupV&_dowAftAllowA*EdEllEriffIeldIftI}IpIv O{OeOotOpOrtOuld O=RimpRugUff!Y0Bl(gCkDeE+GhtGnL|Lk~yLv Mil?Mp!N)NgR&/ Tua>XZe1A>Et^IIllInIrtUll0AbAmEepEnd I)IdeIghtImOg<OtOwUsh0AllArtI!OkeOo`0A{AkeApIffOw0ApCc Ci$CkDaFtL?Ldi LidLut]L=Me#eNgOnRryRtUlUndUpUr)U`0A)A*Ati$AwnEakEci$EedEllEndH eI)Id IkeInIr.L.OilOns%O#OrtOtRayReadR(gY0Ua*UeezeUir*l_b!AdiumAffA+AirsAmpAndArtA>AyEakEelEmEpE*oI{IllIngO{Oma^O}OolOryO=Ra>gyReetRikeR#gRugg!Ud|UffUmb!Y!0Bje@Bm.BwayC)[ChDd&Ff G?G+,ItMm NNnyN'tP PplyP*meReRfa)R+Rpri'RroundR=ySpe@/a(1AllowAmpApArmE?EetIftImIngIt^Ord1MbolMptomRup/em:B!Ck!GIlL|LkNkPeR+tSk/eTtooXi3A^Am~NN<tNnisNtRm/Xt_nkAtEmeEnE%yE*EyIngIsOughtReeRi=RowUmbUnd 0CketDeG LtMb MeNyPRedSsueT!5A,BaccoDayDdl EGe` I!tK&MatoM%rowNeNgueNightOlO`PP-Pp!R^RnadoRtoi'SsT$Uri,W?dW WnY_{AdeAff-Ag-A(Ansf ApAshA=lAyEatEeEndI$IbeI{Igg ImIpOphyOub!U{UeUlyUmpetU,U`Y2BeIt]Mb!NaN}lRkeyRnRt!1El=EntyI)InI,O1PeP-$:5Ly5B*lla0Ab!Awa*C!Cov D DoFairFoldHappyIf%mIqueItIv 'KnownLo{TilUsu$Veil1Da>GradeHoldOnP Set1B<Ge0A+EEdEfulE![U$0Il.y:C<tCuumGueLidL!yL=NNishP%Rious/Ult3H-!L=tNd%Ntu*NueRbRifyRs]RyS'lT <3Ab!Br<tCiousCt%yDeoEw~a+Nta+Ol(Rtu$RusSaS.Su$T$Vid5C$I)IdLc<oLumeTeYa+:GeG#ItLk~LnutNtRfa*RmRri%ShSp/eT VeY3Al`Ap#ArA'lA` BDd(gEk&dIrdLcome/T_!AtEatEelEnE*IpIsp 0DeD`FeLd~NNdowNeNgNkNn Nt ReSdomSeShT}[5LfM<Nd OdOlRdRkRldRryR`_pE{E,!I,I>Ong::Rd3Ar~ow9UUngU`:3BraRo9NeO","0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60")}static wordlist(){return null==nO&&(nO=new nR),nO}}let nS=!1,nT=function(e,t,r,n,i){return(0,rz.pbkdf2Sync)(e,t,r,n,i)},nk=nT;function nU(e,t,r,n,i){let s=e4(e,"password"),a=e4(t,"salt");return e9(nk(s,a,r,n,i))}function nB(e){return(1<<e)-1<<8-e&255}function nL(e,t){e2("NFKD"),null==t&&(t=nR.wordlist());let r=t.split(e);eQ(r.length%3==0&&r.length>=12&&r.length<=24,"invalid mnemonic length","mnemonic","[ REDACTED ]");let n=new Uint8Array(Math.ceil(11*r.length/8)),i=0;for(let e=0;e<r.length;e++){let s=t.getWordIndex(r[e].normalize("NFKD"));eQ(s>=0,`invalid mnemonic word at index ${e}`,"mnemonic","[ REDACTED ]");for(let e=0;e<11;e++)s&1<<10-e&&(n[i>>3]|=1<<7-i%8),i++}let s=32*r.length/3,a=nB(r.length/3);return eQ((e4(rQ(n.slice(0,s/8)))[0]&a)==(n[n.length-1]&a),"invalid mnemonic checksum","mnemonic","[ REDACTED ]"),e9(n.slice(0,s/8))}function nC(e,t){eQ(e.length%4==0&&e.length>=16&&e.length<=32,"invalid entropy size","entropy","[ REDACTED ]"),null==t&&(t=nR.wordlist());let r=[0],n=11;for(let t=0;t<e.length;t++)n>8?(r[r.length-1]<<=8,r[r.length-1]|=e[t],n-=8):(r[r.length-1]<<=n,r[r.length-1]|=e[t]>>8-n,r.push(e[t]&((1<<8-n)-1&255)),n+=3);let i=e.length/4,s=parseInt(rQ(e).substring(2,4),16)&nB(i);return r[r.length-1]<<=i,r[r.length-1]|=s>>8-i,t.join(r.map(e=>t.getWord(e)))}nU._=nT,nU.lock=function(){nS=!0},nU.register=function(e){if(nS)throw Error("pbkdf2 is locked");nk=e},Object.freeze(nU);let nF={};class nD{constructor(e,t,r,n,i){null==n&&(n=""),null==i&&(i=nR.wordlist()),e0(e,nF,"Mnemonic"),eW(this,{phrase:r,password:n,wordlist:i,entropy:t})}computeSeed(){let e=t3("mnemonic"+this.password,"NFKD");return nU(t3(this.phrase,"NFKD"),e,2048,64,"sha512")}static fromPhrase(e,t,r){let n=nL(e,r);return e=nC(e4(n),r),new nD(nF,n,e,t,r)}static fromEntropy(e,t,r){let n=e4(e,"entropy"),i=nC(n,r);return new nD(nF,e9(n),i,t,r)}static entropyToPhrase(e,t){return nC(e4(e,"entropy"),t)}static phraseToEntropy(e,t){return nL(e,t)}static isValidMnemonic(e,t){try{return nL(e,t),!0}catch(e){}return!1}}/*! MIT License. Copyright 2015-2022 Richard Moore <me@ricmoo.com>. See LICENSE.txt. */var n$=function(e,t,r,n){if("a"===r&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},nG=function(e,t,r,n,i){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!i)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r};let nM={16:10,24:12,32:14},n_=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],nV=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],nj=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],nK=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],nH=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],nz=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],nq=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],nZ=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],nW=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],nY=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],nJ=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],nX=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],nQ=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],n1=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],n2=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function n0(e){let t=[];for(let r=0;r<e.length;r+=4)t.push(e[r]<<24|e[r+1]<<16|e[r+2]<<8|e[r+3]);return t}class n3{get key(){return n$(this,n,"f").slice()}constructor(e){let t;if(n.set(this,void 0),i.set(this,void 0),s.set(this,void 0),!(this instanceof n3))throw Error("AES must be instanitated with `new`");nG(this,n,new Uint8Array(e),"f");let r=nM[this.key.length];if(null==r)throw TypeError("invalid key size (must be 16, 24 or 32 bytes)");nG(this,s,[],"f"),nG(this,i,[],"f");for(let e=0;e<=r;e++)n$(this,s,"f").push([0,0,0,0]),n$(this,i,"f").push([0,0,0,0]);let a=(r+1)*4,o=this.key.length/4,l=n0(this.key);for(let e=0;e<o;e++)t=e>>2,n$(this,s,"f")[t][e%4]=l[e],n$(this,i,"f")[r-t][e%4]=l[e];let u=0,h=o,c;for(;h<a;){if(c=l[o-1],l[0]^=nV[c>>16&255]<<24^nV[c>>8&255]<<16^nV[255&c]<<8^nV[c>>24&255]^n_[u]<<24,u+=1,8!=o)for(let e=1;e<o;e++)l[e]^=l[e-1];else{for(let e=1;e<o/2;e++)l[e]^=l[e-1];c=l[o/2-1],l[o/2]^=nV[255&c]^nV[c>>8&255]<<8^nV[c>>16&255]<<16^nV[c>>24&255]<<24;for(let e=o/2+1;e<o;e++)l[e]^=l[e-1]}let e=0,t,n;for(;e<o&&h<a;)t=h>>2,n=h%4,n$(this,s,"f")[t][n]=l[e],n$(this,i,"f")[r-t][n]=l[e++],h++}for(let e=1;e<r;e++)for(let t=0;t<4;t++)c=n$(this,i,"f")[e][t],n$(this,i,"f")[e][t]=nX[c>>24&255]^nQ[c>>16&255]^n1[c>>8&255]^n2[255&c]}encrypt(e){if(16!=e.length)throw TypeError("invalid plaintext size (must be 16 bytes)");let t=n$(this,s,"f").length-1,r=[0,0,0,0],n=n0(e);for(let e=0;e<4;e++)n[e]^=n$(this,s,"f")[0][e];for(let e=1;e<t;e++){for(let t=0;t<4;t++)r[t]=nK[n[t]>>24&255]^nH[n[(t+1)%4]>>16&255]^nz[n[(t+2)%4]>>8&255]^nq[255&n[(t+3)%4]]^n$(this,s,"f")[e][t];n=r.slice()}let i=new Uint8Array(16),a=0;for(let e=0;e<4;e++)a=n$(this,s,"f")[t][e],i[4*e]=(nV[n[e]>>24&255]^a>>24)&255,i[4*e+1]=(nV[n[(e+1)%4]>>16&255]^a>>16)&255,i[4*e+2]=(nV[n[(e+2)%4]>>8&255]^a>>8)&255,i[4*e+3]=(nV[255&n[(e+3)%4]]^a)&255;return i}decrypt(e){if(16!=e.length)throw TypeError("invalid ciphertext size (must be 16 bytes)");let t=n$(this,i,"f").length-1,r=[0,0,0,0],n=n0(e);for(let e=0;e<4;e++)n[e]^=n$(this,i,"f")[0][e];for(let e=1;e<t;e++){for(let t=0;t<4;t++)r[t]=nZ[n[t]>>24&255]^nW[n[(t+3)%4]>>16&255]^nY[n[(t+2)%4]>>8&255]^nJ[255&n[(t+1)%4]]^n$(this,i,"f")[e][t];n=r.slice()}let s=new Uint8Array(16),a=0;for(let e=0;e<4;e++)a=n$(this,i,"f")[t][e],s[4*e]=(nj[n[e]>>24&255]^a>>24)&255,s[4*e+1]=(nj[n[(e+3)%4]>>16&255]^a>>16)&255,s[4*e+2]=(nj[n[(e+2)%4]>>8&255]^a>>8)&255,s[4*e+3]=(nj[255&n[(e+1)%4]]^a)&255;return s}}n=new WeakMap,i=new WeakMap,s=new WeakMap;class n4{constructor(e,t,r){if(r&&!(this instanceof r))throw Error(`${e} must be instantiated with "new"`);Object.defineProperties(this,{aes:{enumerable:!0,value:new n3(t)},name:{enumerable:!0,value:e}})}}var n5=function(e,t,r,n,i){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!i)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},n7=function(e,t,r,n){if("a"===r&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};class n6 extends n4{constructor(e,t){if(super("ECC",e,n6),a.set(this,void 0),o.set(this,void 0),t){if(t.length%16)throw TypeError("invalid iv size (must be 16 bytes)");n5(this,a,new Uint8Array(t),"f")}else n5(this,a,new Uint8Array(16),"f");n5(this,o,this.iv,"f")}get iv(){return new Uint8Array(n7(this,a,"f"))}encrypt(e){if(e.length%16)throw TypeError("invalid plaintext size (must be multiple of 16 bytes)");let t=new Uint8Array(e.length);for(let r=0;r<e.length;r+=16){for(let t=0;t<16;t++)n7(this,o,"f")[t]^=e[r+t];n5(this,o,this.aes.encrypt(n7(this,o,"f")),"f"),t.set(n7(this,o,"f"),r)}return t}decrypt(e){if(e.length%16)throw TypeError("invalid ciphertext size (must be multiple of 16 bytes)");let t=new Uint8Array(e.length);for(let r=0;r<e.length;r+=16){let n=this.aes.decrypt(e.subarray(r,r+16));for(let i=0;i<16;i++)t[r+i]=n[i]^n7(this,o,"f")[i],n7(this,o,"f")[i]=e[r+i]}return t}}a=new WeakMap,o=new WeakMap,new WeakMap,new WeakMap,new WeakSet;var n8=function(e,t,r,n,i){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!i)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},n9=function(e,t,r,n){if("a"===r&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};class ie extends n4{constructor(e,t){super("CTR",e,ie),l.set(this,void 0),u.set(this,void 0),h.set(this,void 0),n8(this,h,new Uint8Array(16),"f"),n9(this,h,"f").fill(0),n8(this,l,n9(this,h,"f"),"f"),n8(this,u,16,"f"),null==t&&(t=1),"number"==typeof t?this.setCounterValue(t):this.setCounterBytes(t)}get counter(){return new Uint8Array(n9(this,h,"f"))}setCounterValue(e){if(!Number.isInteger(e)||e<0||e>Number.MAX_SAFE_INTEGER)throw TypeError("invalid counter initial integer value");for(let t=15;t>=0;--t)n9(this,h,"f")[t]=e%256,e=Math.floor(e/256)}setCounterBytes(e){if(16!==e.length)throw TypeError("invalid counter initial Uint8Array value length");n9(this,h,"f").set(e)}increment(){for(let e=15;e>=0;e--)if(255===n9(this,h,"f")[e])n9(this,h,"f")[e]=0;else{n9(this,h,"f")[e]++;break}}encrypt(e){var t,r;let n=new Uint8Array(e);for(let e=0;e<n.length;e++)16===n9(this,u,"f")&&(n8(this,l,this.aes.encrypt(n9(this,h,"f")),"f"),n8(this,u,0,"f"),this.increment()),n[e]^=n9(this,l,"f")[n8(this,u,(r=n9(this,u,"f"),t=r++,r),"f"),t];return n}decrypt(e){return this.encrypt(e)}}function it(e,t,r,n){var i;let s;let{c:a,dkLen:o,DK:l,PRF:u,PRFSalt:h}=function(e,t,r,n){A(e);let{c:i,dkLen:s,asyncTick:a}=G({dkLen:32,asyncTick:10},n);if(I(i),I(s),I(a),i<1)throw Error("PBKDF2: iterations (c) should be >= 1");let o=F(t),l=F(r),u=new Uint8Array(s),h=eT.create(e,o),c=h._cloneInto().update(l);return{c:i,dkLen:s,asyncTick:a,DK:u,PRF:h,PRFSalt:c}}(e,t,r,n),c=new Uint8Array(4),f=U(c),d=new Uint8Array(u.outputLen);for(let e=1,t=0;t<o;e++,t+=u.outputLen){let r=l.subarray(t,t+u.outputLen);f.setInt32(0,e,!1),(s=h._cloneInto(s)).update(c).digestInto(d),r.set(d.subarray(0,r.length));for(let e=1;e<a;e++){u._cloneInto(s).update(d).digestInto(d);for(let e=0;e<r.length;e++)r[e]^=d[e]}}return i=s,u.destroy(),h.destroy(),i&&i.destroy(),d.fill(0),l}l=new WeakMap,u=new WeakMap,h=new WeakMap,new WeakMap,new WeakMap,new WeakMap;let ir=(e,t)=>e<<t|e>>>32-t;function ii(e,t,r,n,i,s){let a=e[t++]^r[n++],o=e[t++]^r[n++],l=e[t++]^r[n++],u=e[t++]^r[n++],h=e[t++]^r[n++],c=e[t++]^r[n++],f=e[t++]^r[n++],d=e[t++]^r[n++],p=e[t++]^r[n++],y=e[t++]^r[n++],g=e[t++]^r[n++],m=e[t++]^r[n++],w=e[t++]^r[n++],b=e[t++]^r[n++],v=e[t++]^r[n++],E=e[t++]^r[n++],I=a,P=o,A=l,N=u,x=h,O=c,R=f,S=d,T=p,k=y,U=g,B=m,L=w,C=b,F=v,D=E;for(let e=0;e<8;e+=2)x^=ir(I+L|0,7),T^=ir(x+I|0,9),L^=ir(T+x|0,13),I^=ir(L+T|0,18),k^=ir(O+P|0,7),C^=ir(k+O|0,9),P^=ir(C+k|0,13),O^=ir(P+C|0,18),F^=ir(U+R|0,7),A^=ir(F+U|0,9),R^=ir(A+F|0,13),U^=ir(R+A|0,18),N^=ir(D+B|0,7),S^=ir(N+D|0,9),B^=ir(S+N|0,13),D^=ir(B+S|0,18),P^=ir(I+N|0,7),A^=ir(P+I|0,9),N^=ir(A+P|0,13),I^=ir(N+A|0,18),R^=ir(O+x|0,7),S^=ir(R+O|0,9),x^=ir(S+R|0,13),O^=ir(x+S|0,18),B^=ir(U+k|0,7),T^=ir(B+U|0,9),k^=ir(T+B|0,13),U^=ir(k+T|0,18),L^=ir(D+F|0,7),C^=ir(L+D|0,9),F^=ir(C+L|0,13),D^=ir(F+C|0,18);i[s++]=a+I|0,i[s++]=o+P|0,i[s++]=l+A|0,i[s++]=u+N|0,i[s++]=h+x|0,i[s++]=c+O|0,i[s++]=f+R|0,i[s++]=d+S|0,i[s++]=p+T|0,i[s++]=y+k|0,i[s++]=g+U|0,i[s++]=m+B|0,i[s++]=w+L|0,i[s++]=b+C|0,i[s++]=v+F|0,i[s++]=E+D|0}function is(e,t,r,n,i){let s=n+0,a=n+16*i;for(let n=0;n<16;n++)r[a+n]=e[t+(2*i-1)*16+n];for(let n=0;n<i;n++,s+=16,t+=16)ii(r,a,e,t,r,s),n>0&&(a+=16),ii(r,s,e,t+=16,r,a)}function ia(e,t,r){let{N:n,r:i,p:s,dkLen:a,asyncTick:o,maxmem:l,onProgress:u}=G({dkLen:32,asyncTick:10,maxmem:1073742848},r);if(I(n),I(i),I(s),I(a),I(o),I(l),void 0!==u&&"function"!=typeof u)throw Error("progressCb should be function");let h=128*i,c=h/4;if(n<=1||(n&n-1)!=0||n>=2**(h/8)||n>4294967296)throw Error("Scrypt: N must be larger than 1, a power of 2, less than 2^(128 * r / 8) and less than 2^32");if(s<0||s>(4294967296-1)*32/h)throw Error("Scrypt: p must be a positive integer less than or equal to ((2^32 - 1) * 32) / (128 * r)");if(a<0||a>(4294967296-1)*32)throw Error("Scrypt: dkLen should be positive integer less than or equal to (2^32 - 1) * 32");let f=h*(n+s);if(f>l)throw Error(`Scrypt: parameters too large, ${f} (128 * r * (N + p)) > ${l} (maxmem)`);let d=it(W,e,t,{c:1,dkLen:h*s}),p=k(d),y=k(new Uint8Array(h*n)),g=k(new Uint8Array(h)),m=()=>{};if(u){let e=2*n*s,t=Math.max(Math.floor(e/1e4),1),r=0;m=()=>{r++,u&&(!(r%t)||r===e)&&u(r/e)}}return{N:n,r:i,p:s,dkLen:a,blockSize32:c,V:y,B32:p,B:d,tmp:g,blockMixCb:m,asyncTick:o}}function io(e,t,r,n,i){let s=it(W,e,r,{c:1,dkLen:t});return r.fill(0),n.fill(0),i.fill(0),s}async function il(e,t,r){let{N:n,r:i,p:s,dkLen:a,blockSize32:o,V:l,B32:u,B:h,tmp:c,blockMixCb:f,asyncTick:d}=ia(e,t,r);for(let e=0;e<s;e++){let t=o*e;for(let e=0;e<o;e++)l[e]=u[t+e];let r=0;await C(n-1,d,()=>{is(l,r,l,r+=o,i),f()}),is(l,(n-1)*o,u,t,i),f(),await C(n,d,()=>{let e=u[t+o-16]%n;for(let r=0;r<o;r++)c[r]=u[t+r]^l[e*o+r];is(c,0,u,t,i),f()})}return io(e,a,h,l,c)}let iu=!1,ih=!1,ic=async function(e,t,r,n,i,s,a){return await il(e,t,{N:r,r:n,p:i,dkLen:s,onProgress:a})},id=function(e,t,r,n,i,s){return function(e,t,r){let{N:n,r:i,p:s,dkLen:a,blockSize32:o,V:l,B32:u,B:h,tmp:c,blockMixCb:f}=ia(e,t,r);for(let e=0;e<s;e++){let t=o*e;for(let e=0;e<o;e++)l[e]=u[t+e];for(let e=0,t=0;e<n-1;e++)is(l,t,l,t+=o,i),f();is(l,(n-1)*o,u,t,i),f();for(let e=0;e<n;e++){let e=u[t+o-16]%n;for(let r=0;r<o;r++)c[r]=u[t+r]^l[e*o+r];is(c,0,u,t,i),f()}}return io(e,a,h,l,c)}(e,t,{N:r,r:n,p:i,dkLen:s})},ip=ic,iy=id;async function ig(e,t,r,n,i,s,a){let o=e4(e,"passwd"),l=e4(t,"salt");return e9(await ip(o,l,r,n,i,s,a))}function im(e,t,r,n,i,s){let a=e4(e,"passwd"),o=e4(t,"salt");return e9(iy(a,o,r,n,i,s))}function iw(e){return"string"!=typeof e||e.startsWith("0x")||(e="0x"+e),e5(e)}function ib(e,t){for(e=String(e);e.length<t;)e="0"+e;return e}function iv(e){return"string"==typeof e?t3(e,"NFKC"):e5(e)}function iE(e,t){let r=t.match(/^([a-z0-9$_.-]*)(:([a-z]+))?(!)?$/i);eQ(null!=r,"invalid path","path",t);let n=r[1],i=r[3],s="!"===r[4],a=e;for(let e of n.toLowerCase().split(".")){if(Array.isArray(a)){if(!e.match(/^[0-9]+$/))break;a=a[parseInt(e)]}else if("object"==typeof a){let t=null;for(let r in a)if(r.toLowerCase()===e){t=a[r];break}a=t}else a=null;if(null==a)break}if(eQ(!s||null!=a,"missing required value","path",n),i&&null!=a){if("int"===i){if("string"==typeof a&&a.match(/^-?[0-9]+$/))return parseInt(a);if(Number.isSafeInteger(a))return a}if("number"===i&&"string"==typeof a&&a.match(/^-?[0-9.]*$/))return parseFloat(a);if("data"===i&&"string"==typeof a)return iw(a);if("array"===i&&Array.isArray(a)||i===typeof a)return a;eQ(!1,`wrong type found for ${i} `,"path",n)}return a}ig._=ic,ig.lock=function(){ih=!0},ig.register=function(e){if(ih)throw Error("scrypt is locked");ip=e},Object.freeze(ig),im._=id,im.lock=function(){iu=!0},im.register=function(e){if(iu)throw Error("scryptSync is locked");iy=e},Object.freeze(im);let iI="m/44'/60'/0'/0/0";function iP(e){try{let t=JSON.parse(e),r=null!=t.version?parseInt(t.version):0;if(3===r)return!0}catch(e){}return!1}function iA(e,t){let r=e4(t),n=iE(e,"crypto.ciphertext:data!");eQ(e9(tq(te([r.slice(16,32),n]))).substring(2)===iE(e,"crypto.mac:string!").toLowerCase(),"incorrect password","password","[ REDACTED ]");let i=function(e,t,r){if("aes-128-ctr"===iE(e,"crypto.cipher:string"))return e9(new ie(t,iE(e,"crypto.cipherparams.iv:data!")).decrypt(r));eX(!1,"unsupported cipher","UNSUPPORTED_OPERATION",{operation:"decrypt"})}(e,r.slice(0,16),n),s=rb(i);if(e.address){let t=e.address.toLowerCase();t.startsWith("0x")||(t="0x"+t),eQ(tQ(t)===s,"keystore address/privateKey mismatch","address",e.address)}let a={address:s,privateKey:i};if("0.1"===iE(e,"x-ethers.version:string")){let t=r.slice(32,64),n=iE(e,"x-ethers.mnemonicCiphertext:data!"),i=new ie(t,iE(e,"x-ethers.mnemonicCounter:data!"));a.mnemonic={path:iE(e,"x-ethers.path:string")||iI,locale:iE(e,"x-ethers.locale:string")||"en",entropy:e9(e4(i.decrypt(n)))}}return a}function iN(e){let t=iE(e,"crypto.kdf:string");if(t&&"string"==typeof t){if("scrypt"===t.toLowerCase()){let r=iE(e,"crypto.kdfparams.salt:data!"),n=iE(e,"crypto.kdfparams.n:int!"),i=iE(e,"crypto.kdfparams.r:int!"),s=iE(e,"crypto.kdfparams.p:int!");eQ(n>0&&(n&n-1)==0,"invalid kdf.N","kdf.N",n),eQ(i>0&&s>0,"invalid kdf","kdf",t);let a=iE(e,"crypto.kdfparams.dklen:int!");return eQ(32===a,"invalid kdf.dklen","kdf.dflen",a),{name:"scrypt",salt:r,N:n,r:i,p:s,dkLen:64}}if("pbkdf2"===t.toLowerCase()){let t=iE(e,"crypto.kdfparams.salt:data!"),r=iE(e,"crypto.kdfparams.prf:string!"),n=r.split("-").pop();eQ("sha256"===n||"sha512"===n,"invalid kdf.pdf","kdf.pdf",r);let i=iE(e,"crypto.kdfparams.c:int!"),s=iE(e,"crypto.kdfparams.dklen:int!");return eQ(32===s,"invalid kdf.dklen","kdf.dklen",s),{name:"pbkdf2",salt:t,count:i,dkLen:s,algorithm:n}}}eQ(!1,"unsupported key-derivation function","kdf",t)}function ix(e){return new Promise(t=>{setTimeout(()=>{t()},e)})}async function iO(e,t,r){let n=JSON.parse(e),i=iv(t),s=iN(n);if("pbkdf2"===s.name){r&&(r(0),await ix(0));let{salt:e,count:t,dkLen:a,algorithm:o}=s,l=nU(i,e,t,a,o);return r&&(r(1),await ix(0)),iA(n,l)}eX("scrypt"===s.name,"cannot be reached","UNKNOWN_ERROR",{params:s});let{salt:a,N:o,r:l,p:u,dkLen:h}=s;return iA(n,await ig(i,a,o,l,u,h,r))}function iR(e){let t=null!=e.salt?e4(e.salt,"options.salt"):nm(32),r=131072,n=8,i=1;return e.scrypt&&(e.scrypt.N&&(r=e.scrypt.N),e.scrypt.r&&(n=e.scrypt.r),e.scrypt.p&&(i=e.scrypt.p)),eQ("number"==typeof r&&r>0&&Number.isSafeInteger(r)&&(BigInt(r)&BigInt(r-1))===BigInt(0),"invalid scrypt N parameter","options.N",r),eQ("number"==typeof n&&n>0&&Number.isSafeInteger(n),"invalid scrypt r parameter","options.r",n),eQ("number"==typeof i&&i>0&&Number.isSafeInteger(i),"invalid scrypt p parameter","options.p",i),{name:"scrypt",dkLen:32,salt:t,N:r,r:n,p:i}}function iS(e,t,r,n){let i=e4(r.privateKey,"privateKey"),s=null!=n.iv?e4(n.iv,"options.iv"):nm(16);eQ(16===s.length,"invalid options.iv length","options.iv",n.iv);let a=null!=n.uuid?e4(n.uuid,"options.uuid"):nm(16);eQ(16===a.length,"invalid options.uuid length","options.uuid",n.iv);let o=e.slice(0,16),l=e.slice(16,32),u=e4(new ie(o,s).encrypt(i)),h=tq(te([l,u])),c={address:r.address.substring(2).toLowerCase(),id:function(e){let t=e4(e,"randomBytes");t[6]=15&t[6]|64,t[8]=63&t[8]|128;let r=e9(t);return[r.substring(2,10),r.substring(10,14),r.substring(14,18),r.substring(18,22),r.substring(22,34)].join("-")}(a),version:3,Crypto:{cipher:"aes-128-ctr",cipherparams:{iv:e9(s).substring(2)},ciphertext:e9(u).substring(2),kdf:"scrypt",kdfparams:{salt:e9(t.salt).substring(2),n:t.N,dklen:32,p:t.p,r:t.r},mac:h.substring(2)}};if(r.mnemonic){let t=null!=n.client?n.client:`ethers/${eq}`,i=r.mnemonic.path||iI,s=r.mnemonic.locale||"en",a=e.slice(32,64),o=e4(r.mnemonic.entropy,"account.mnemonic.entropy"),l=nm(16),u=e4(new ie(a,l).encrypt(o)),h=new Date,f="UTC--"+(h.getUTCFullYear()+"-"+ib(h.getUTCMonth()+1,2)+"-"+ib(h.getUTCDate(),2)+"T"+ib(h.getUTCHours(),2)+"-"+ib(h.getUTCMinutes(),2)+"-")+ib(h.getUTCSeconds(),2)+".0Z--"+c.address;c["x-ethers"]={client:t,gethFilename:f,path:i,locale:s,mnemonicCounter:e9(l).substring(2),mnemonicCiphertext:e9(u).substring(2),version:"0.1"}}return JSON.stringify(c)}function iT(e,t,r){null==r&&(r={});let n=iv(t),i=iR(r);return iS(e4(im(n,i.salt,i.N,i.r,i.p,64)),i,e,r)}async function ik(e,t,r){null==r&&(r={});let n=iv(t),i=iR(r);return iS(e4(await ig(n,i.salt,i.N,i.r,i.p,64,r.progressCallback)),i,e,r)}let iU="m/44'/60'/0'/0/0",iB=new Uint8Array([66,105,116,99,111,105,110,32,115,101,101,100]),iL=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141");function iC(e,t){let r="";for(;e;)r="0123456789abcdef"[e%16]+r,e=Math.trunc(e/16);for(;r.length<2*t;)r="0"+r;return"0x"+r}function iF(e){let t=e4(e),r=tr(rQ(rQ(t)),0,4);return function(e){let t=e4(e),r=tu(t),n="";for(;r;)n=nw[Number(r%nE)]+n,r/=nE;for(let e=0;e<t.length&&!t[e];e++)n=nw[0]+n;return n}(te([t,r]))}let iD={};function i$(e,t,r,n){let i=new Uint8Array(37);2147483648&e?(eX(null!=n,"cannot derive child of neutered node","UNSUPPORTED_OPERATION",{operation:"deriveChild"}),i.set(e4(n),1)):i.set(e4(r));for(let t=24;t>=0;t-=8)i[33+(t>>3)]=e>>24-t&255;let s=e4(r4("sha512",t,i));return{IL:s.slice(0,32),IR:s.slice(32)}}function iG(e,t){let r=t.split("/");eQ(r.length>0,"invalid path","path",t),"m"===r[0]&&(eQ(0===e.depth,`cannot derive root path (i.e. path starting with "m/") for a node at non-zero depth ${e.depth}`,"path",t),r.shift());let n=e;for(let e=0;e<r.length;e++){let t=r[e];if(t.match(/^[0-9]+'$/)){let r=parseInt(t.substring(0,t.length-1));eQ(r<2147483648,"invalid path index",`path[${e}]`,t),n=n.deriveChild(2147483648+r)}else if(t.match(/^[0-9]+$/)){let r=parseInt(t);eQ(r<2147483648,"invalid path index",`path[${e}]`,t),n=n.deriveChild(r)}else eQ(!1,"invalid path component",`path[${e}]`,t)}return n}class iM extends rH{constructor(e,t,r,n,i,s,a,o,l){super(t,l),e0(e,iD,"HDNodeWallet"),eW(this,{publicKey:t.compressedPublicKey}),eW(this,{parentFingerprint:r,fingerprint:tr(nd(rQ(this.publicKey)),0,4),chainCode:n,path:i,index:s,depth:a}),eW(this,{mnemonic:o})}connect(e){return new iM(iD,this.signingKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,this.mnemonic,e)}#S(){let e={address:this.address,privateKey:this.privateKey},t=this.mnemonic;return this.path&&t&&"en"===t.wordlist.locale&&""===t.password&&(e.mnemonic={path:this.path,locale:"en",entropy:t.entropy}),e}async encrypt(e,t){return await ik(this.#S(),e,{progressCallback:t})}encryptSync(e){return iT(this.#S(),e)}get extendedKey(){return eX(this.depth<256,"Depth too deep","UNSUPPORTED_OPERATION",{operation:"extendedKey"}),iF(te(["0x0488ADE4",iC(this.depth,1),this.parentFingerprint,iC(this.index,4),this.chainCode,te(["0x00",this.privateKey])]))}hasPath(){return null!=this.path}neuter(){return new i_(iD,this.address,this.publicKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,this.provider)}deriveChild(e){let t=th(e,"index");eQ(t<=4294967295,"invalid index","index",t);let r=this.path;r&&(r+="/"+(2147483647&t),2147483648&t&&(r+="'"));let{IR:n,IL:i}=i$(t,this.chainCode,this.publicKey,this.privateKey);return new iM(iD,new tI(tc((tu(i)+BigInt(this.privateKey))%iL,32)),this.fingerprint,e9(n),r,t,this.depth+1,this.mnemonic,this.provider)}derivePath(e){return iG(this,e)}static #T(e,t){eQ(e6(e),"invalid seed","seed","[REDACTED]");let r=e4(e,"seed");eQ(r.length>=16&&r.length<=64,"invalid seed","seed","[REDACTED]");let n=e4(r4("sha512",iB,r));return new iM(iD,new tI(e9(n.slice(0,32))),"0x00000000",e9(n.slice(32)),"m",0,0,t,null)}static fromExtendedKey(e){let t=tf(function(e){let t=nv;for(let r=0;r<e.length;r++)t*=nE,t+=function(e){if(null==nb){nb={};for(let e=0;e<nw.length;e++)nb[nw[e]]=BigInt(e)}let t=nb[e];return eQ(null!=t,"invalid base58 value","letter",e),t}(e[r]);return t}(e));eQ(82===t.length||iF(t.slice(0,78))===e,"invalid extended key","extendedKey","[ REDACTED ]");let r=t[4],n=e9(t.slice(5,9)),i=parseInt(e9(t.slice(9,13)).substring(2),16),s=e9(t.slice(13,45)),a=t.slice(45,78);switch(e9(t.slice(0,4))){case"0x0488b21e":case"0x043587cf":{let e=e9(a);return new i_(iD,rb(e),e,n,s,null,i,r,null)}case"0x0488ade4":case"0x04358394 ":if(0!==a[0])break;return new iM(iD,new tI(a.slice(1)),n,s,null,i,r,null,null)}eQ(!1,"invalid extended key prefix","extendedKey","[ REDACTED ]")}static createRandom(e,t,r){null==e&&(e=""),null==t&&(t=iU),null==r&&(r=nR.wordlist());let n=nD.fromEntropy(nm(16),e,r);return iM.#T(n.computeSeed(),n).derivePath(t)}static fromMnemonic(e,t){return t||(t=iU),iM.#T(e.computeSeed(),e).derivePath(t)}static fromPhrase(e,t,r,n){null==t&&(t=""),null==r&&(r=iU),null==n&&(n=nR.wordlist());let i=nD.fromPhrase(e,t,n);return iM.#T(i.computeSeed(),i).derivePath(r)}static fromSeed(e){return iM.#T(e,null)}}class i_ extends rK{constructor(e,t,r,n,i,s,a,o,l){super(t,l),e0(e,iD,"HDNodeVoidWallet"),eW(this,{publicKey:r});let u=tr(nd(rQ(r)),0,4);eW(this,{publicKey:r,fingerprint:u,parentFingerprint:n,chainCode:i,path:s,index:a,depth:o})}connect(e){return new i_(iD,this.address,this.publicKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,e)}get extendedKey(){return eX(this.depth<256,"Depth too deep","UNSUPPORTED_OPERATION",{operation:"extendedKey"}),iF(te(["0x0488B21E",iC(this.depth,1),this.parentFingerprint,iC(this.index,4),this.chainCode,this.publicKey]))}hasPath(){return null!=this.path}deriveChild(e){let t=th(e,"index");eQ(t<=4294967295,"invalid index","index",t);let r=this.path;r&&(r+="/"+(2147483647&t),2147483648&t&&(r+="'"));let{IR:n,IL:i}=i$(t,this.chainCode,this.publicKey,null),s=tI.addPoints(i,this.publicKey,!0);return new i_(iD,rb(s),s,this.fingerprint,e9(n),r,t,this.depth+1,this.provider)}derivePath(e){return iG(this,e)}}function iV(e){try{if(JSON.parse(e).encseed)return!0}catch(e){}return!1}function ij(e,t){let r=JSON.parse(e),n=iv(t),i=tQ(iE(r,"ethaddr:string!")),s=iw(iE(r,"encseed:string!"));eQ(s&&s.length%16==0,"invalid encseed","json",e);let a=e4(nU(n,n,2e3,32,"sha256")).slice(0,16),o=s.slice(0,16),l=s.slice(16),u=function(e){if(e.length<16)throw TypeError("PKCS#7 invalid length");let t=e[e.length-1];if(t>16)throw TypeError("PKCS#7 padding byte out of range");let r=e.length-t;for(let n=0;n<t;n++)if(e[r+n]!==t)throw TypeError("PKCS#7 invalid padding byte");return new Uint8Array(e.subarray(0,r))}(e4(new n6(a,o).decrypt(l))),h="";for(let e=0;e<u.length;e++)h+=String.fromCharCode(u[e]);return{address:i,privateKey:tq(t3(h))}}function iK(e){return new Promise(t=>{setTimeout(()=>{t()},e)})}class iH extends rH{constructor(e,t){"string"!=typeof e||e.startsWith("0x")||(e="0x"+e),super("string"==typeof e?new tI(e):e,t)}connect(e){return new iH(this.signingKey,e)}async encrypt(e,t){let r={address:this.address,privateKey:this.privateKey};return await ik(r,e,{progressCallback:t})}encryptSync(e){return iT({address:this.address,privateKey:this.privateKey},e)}static #k(e){if(eQ(e,"invalid JSON wallet","json","[ REDACTED ]"),"mnemonic"in e&&e.mnemonic&&"en"===e.mnemonic.locale){let t=nD.fromEntropy(e.mnemonic.entropy),r=iM.fromMnemonic(t,e.mnemonic.path);if(r.address===e.address&&r.privateKey===e.privateKey)return r;console.log("WARNING: JSON mismatch address/privateKey != mnemonic; fallback onto private key")}let t=new iH(e.privateKey);return eQ(t.address===e.address,"address/privateKey mismatch","json","[ REDACTED ]"),t}static async fromEncryptedJson(e,t,r){let n=null;return iP(e)?n=await iO(e,t,r):iV(e)&&(r&&(r(0),await iK(0)),n=ij(e,t),r&&(r(1),await iK(0))),iH.#k(n)}static fromEncryptedJsonSync(e,t){let r=null;return iP(e)?r=function(e,t){let r=JSON.parse(e),n=iv(t),i=iN(r);if("pbkdf2"===i.name){let{salt:e,count:t,dkLen:s,algorithm:a}=i;return iA(r,nU(n,e,t,s,a))}eX("scrypt"===i.name,"cannot be reached","UNKNOWN_ERROR",{params:i});let{salt:s,N:a,r:o,p:l,dkLen:u}=i;return iA(r,im(n,s,a,o,l,u))}(e,t):iV(e)?r=ij(e,t):eQ(!1,"invalid JSON wallet","json","[ REDACTED ]"),iH.#k(r)}static createRandom(e){let t=iM.createRandom();return e?t.connect(e):t}static fromPhrase(e,t){let r=iM.fromPhrase(e);return t?r.connect(t):r}}function iz(){let e=process.env.SUPABASE_URL,t=process.env.SUPABASE_SERVICE_ROLE_KEY;if(!e||!t)throw Error("Supabase configuration is missing. Please set SUPABASE_URL and SUPABASE_SERVICE_ROLE_KEY environment variables.");return(0,m.eI)(e,t)}async function iq(){try{let{Keypair:e}=await Promise.resolve().then(r.t.bind(r,7831,23));return{Keypair:e}}catch(e){return console.warn("Solana web3.js not available:",e),null}}let iZ=w.z.object({privateKey:w.z.string().min(1,"Private key is required"),walletName:w.z.string().optional(),chain:w.z.enum(["ETH","BSC","SOL"],{invalid_type_error:"Invalid chain. Must be ETH, BSC, or SOL"})}),iW=w.z.object({walletId:w.z.string().uuid("Invalid wallet ID"),operation:w.z.enum(["validate_key"],{invalid_type_error:"Invalid operation. Only validate_key is allowed"})});async function iY(e,t){try{if("ETH"===t||"BSC"===t)return new iH(e).address;if("SOL"===t){let t=await iq();if(!t)throw Error("Solana web3.js not available");let r=new Uint8Array(JSON.parse(e));return t.Keypair.fromSecretKey(r).publicKey.toString()}throw Error(`Unsupported chain: ${t}`)}catch(e){throw Error(`Invalid private key for chain ${t}`)}}async function iJ(e){try{let t=await E.qQ.check(e);if(!t.success)return g.Z.json({error:"Rate limit exceeded",retryAfter:Math.ceil((t.resetTime-Date.now())/1e3)},{status:429});let r=await (0,v.PZ)(e);if(!r.success)return g.Z.json({error:"Unauthorized",details:r.error},{status:401});let n=r.payload?.sub;if(!n)return g.Z.json({error:"Invalid token payload"},{status:401});let i=iz(),{data:s,error:a}=await i.from("wallets").select("id, user_id, address, chain, name, created_at, updated_at").eq("user_id",n).order("created_at",{ascending:!1});if(a)return console.error("Error fetching wallets:",a),g.Z.json({error:"Failed to fetch wallets"},{status:500});return g.Z.json({success:!0,data:s||[]})}catch(e){return console.error("Error in GET wallets:",e),g.Z.json({error:"Failed to fetch wallets"},{status:500})}}async function iX(e){try{let t;let r=await E.qQ.check(e,5,36e5);if(!r.success)return g.Z.json({error:"Rate limit exceeded",retryAfter:Math.ceil((r.resetTime-Date.now())/1e3)},{status:429});let n=await (0,v.PZ)(e);if(!n.success)return g.Z.json({error:"Unauthorized",details:n.error},{status:401});let i=n.payload?.sub;if(!i)return g.Z.json({error:"Invalid token payload"},{status:401});let s=await e.json(),a=iZ.safeParse(s);if(!a.success)return g.Z.json({error:"Invalid input data",details:a.error.errors},{status:400});let{privateKey:o,walletName:l,chain:u}=a.data;try{t=await iY(o,u)}catch(e){return g.Z.json({error:e.message},{status:400})}let h=iz(),{data:c}=await h.from("wallets").select("id").eq("user_id",i).eq("address",t).eq("chain",u).single();if(c)return g.Z.json({error:"Wallet already exists for this chain"},{status:409});let f=(0,b.HI)(o),d=`wallet_${Date.now()}_${(0,b.R1)(8)}`,{data:p,error:y}=await h.from("wallets").insert({id:d,user_id:i,address:t,encrypted_private_key:f,chain:u,name:l||`${u} Wallet`,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}).select("id, user_id, address, chain, name, created_at, updated_at").single();if(y)return console.error("Error creating wallet:",y),g.Z.json({error:"Failed to create wallet"},{status:500});return console.log(`Wallet created for user ${i}: ${u} - ${t}`),g.Z.json({success:!0,data:p})}catch(e){return console.error("Error creating wallet:",e),g.Z.json({error:"Failed to create wallet"},{status:500})}}async function iQ(e){try{let t=await E.qQ.check(e);if(!t.success)return g.Z.json({error:"Rate limit exceeded",retryAfter:Math.ceil((t.resetTime-Date.now())/1e3)},{status:429});let r=await (0,v.PZ)(e);if(!r.success)return g.Z.json({error:"Unauthorized",details:r.error},{status:401});let n=r.payload?.sub;if(!n)return g.Z.json({error:"Invalid token payload"},{status:401});let{searchParams:i}=new URL(e.url),s=i.get("walletId");if(!s)return g.Z.json({error:"Wallet ID is required"},{status:400});let a=iz(),{error:o}=await a.from("wallets").delete().eq("id",s).eq("user_id",n);if(o)return console.error("Error deleting wallet:",o),g.Z.json({error:"Failed to delete wallet"},{status:500});return console.log(`Wallet deleted by user ${n}: ${s}`),g.Z.json({success:!0,message:"Wallet deleted successfully"})}catch(e){return console.error("Error deleting wallet:",e),g.Z.json({error:"Failed to delete wallet"},{status:500})}}async function i1(e){try{let t=await E.qQ.check(e,3,36e5);if(!t.success)return g.Z.json({error:"Rate limit exceeded",retryAfter:Math.ceil((t.resetTime-Date.now())/1e3)},{status:429});let r=await (0,v.PZ)(e);if(!r.success)return g.Z.json({error:"Unauthorized",details:r.error},{status:401});let n=r.payload?.sub;if(!n)return g.Z.json({error:"Invalid token payload"},{status:401});let i=await e.json(),s=iW.safeParse(i);if(!s.success)return g.Z.json({error:"Invalid request data",details:s.error.errors},{status:400});let{walletId:a,operation:o}=s.data,l=iz(),{data:u,error:h}=await l.from("wallets").select("id, address, encrypted_private_key, chain").eq("id",a).eq("user_id",n).single();if(h||!u)return g.Z.json({error:"Wallet not found or access denied"},{status:404});if("validate_key"===o)try{let e=(0,b.pe)(u.encrypted_private_key),t=(await iY(e,u.chain)).toLowerCase()===u.address.toLowerCase();return console.log(`Wallet validation by user ${n}: ${a} - ${t?"Valid":"Invalid"}`),g.Z.json({success:!0,data:{address:u.address,isValid:t}})}catch(e){return console.error("Failed to validate wallet key:",e),g.Z.json({error:"Failed to validate wallet key"},{status:500})}return g.Z.json({error:"Invalid operation"},{status:400})}catch(e){return console.error("Error in wallet operation:",e),g.Z.json({error:"Failed to perform wallet operation"},{status:500})}}let i2=new d.AppRouteRouteModule({definition:{kind:p.x.APP_ROUTE,page:"/api/wallets/route",pathname:"/api/wallets",filename:"route",bundlePath:"app/api/wallets/route"},resolvedPagePath:"C:\\Users\\User1\\Downloads\\TradingBot\\apps\\frontend\\src\\app\\api\\wallets\\route.ts",nextConfigOutput:"",userland:f}),{requestAsyncStorage:i0,staticGenerationAsyncStorage:i3,serverHooks:i4,headerHooks:i5,staticGenerationBailout:i7}=i2,i6="/api/wallets/route";function i8(){return(0,y.patchFetch)({serverHooks:i4,staticGenerationAsyncStorage:i3})}},2812:(e,t,r)=>{r.d(t,{qQ:()=>i});class n{constructor(e=100,t=9e5){this.store={},this.defaultLimit=e,this.defaultWindow=t,setInterval(()=>{this.cleanup()},3e5)}async check(e,t=this.defaultLimit,r=this.defaultWindow){let n=this.getIdentifier(e),i=Date.now(),s=`${n}:${Math.floor(i/r)}`;this.store[s]||(this.store[s]={count:0,resetTime:i+r});let a=this.store[s];return a.count>=t?{success:!1,remaining:0,resetTime:a.resetTime,error:`Rate limit exceeded. Try again in ${Math.ceil((a.resetTime-i)/1e3)} seconds.`}:(a.count++,{success:!0,remaining:t-a.count,resetTime:a.resetTime})}getIdentifier(e){let t=e.headers.get("x-user-id");if(t)return`user:${t}`;let r=e.headers.get("x-forwarded-for"),n=e.headers.get("x-real-ip"),i=r?r.split(",")[0]?.trim():n||"unknown";return`ip:${i}`}cleanup(){let e=Date.now();Object.keys(this.store).forEach(t=>{let r=this.store[t];r&&r.resetTime<e&&delete this.store[t]})}async checkLimit(e,t="default"){let r="action"===t?10:this.defaultLimit,n=await this.check(e,r);return n.success?{allowed:!0}:{allowed:!1,retryAfter:Math.ceil((n.resetTime-Date.now())/1e3)}}getStatus(e){let t=this.getIdentifier(e),r=Date.now(),n=`${t}:${Math.floor(r/this.defaultWindow)}`,i=this.store[n];return i?{count:i.count,remaining:Math.max(0,this.defaultLimit-i.count),resetTime:i.resetTime}:{count:0,remaining:this.defaultLimit,resetTime:r+this.defaultWindow}}}let i=new n;function s(e=100,t=9e5){return async r=>{let n=await i.check(r,e,t);return{...n,headers:{"X-RateLimit-Limit":e.toString(),"X-RateLimit-Remaining":n.remaining.toString(),"X-RateLimit-Reset":Math.ceil(n.resetTime/1e3).toString()}}}}s(5,9e5),s(100,9e5),s(50,6e4)}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[807,457,113],()=>r(9046));module.exports=n})();