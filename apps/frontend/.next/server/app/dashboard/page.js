(()=>{var e={};e.id=702,e.ids=[702],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},8762:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>x,originalPathname:()=>u,pages:()=>c,routeModule:()=>h,tree:()=>d});var r=s(8920),a=s(8584),n=s(5445),i=s.n(n),o=s(4532),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);s.d(t,l);let d=["",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,3448)),"C:\\Users\\User1\\Downloads\\TradingBot\\apps\\frontend\\src\\app\\dashboard\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,6573)),"C:\\Users\\User1\\Downloads\\TradingBot\\apps\\frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,4769,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\User1\\Downloads\\TradingBot\\apps\\frontend\\src\\app\\dashboard\\page.tsx"],u="/dashboard/page",x={require:s,loadChunk:()=>Promise.resolve()},h=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/dashboard/page",pathname:"/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},5261:(e,t,s)=>{Promise.resolve().then(s.bind(s,9359))},9211:(e,t,s)=>{Promise.resolve().then(s.bind(s,7848))},4059:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,4372,23)),Promise.resolve().then(s.t.bind(s,7103,23)),Promise.resolve().then(s.t.bind(s,9655,23)),Promise.resolve().then(s.t.bind(s,3334,23)),Promise.resolve().then(s.t.bind(s,1394,23)),Promise.resolve().then(s.t.bind(s,958,23))},9359:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>u});var r=s(2610),a=s(7933),n=s(7408),i=s(7848),o=s(3943);function l(){let[e,t]=(0,a.useState)([]),[s,n]=(0,a.useState)(!0),[o,l]=(0,a.useState)(null),{isAuthenticated:d,isLoading:c}=(0,i.useAuth)();if((0,a.useEffect)(()=>{if(c||!d){n(!1);return}let e=async()=>{try{n(!0),l(null);let e=await fetch("/api/trades",{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}});if(!e.ok){if(401===e.status){l("Authentication required. Please log in again.");return}if(403===e.status){l("Access denied. You do not have permission to view trades.");return}throw Error(`HTTP error! status: ${e.status}`)}let s=await e.json();s.success&&s.data?t(s.data):l(s.message||"Failed to fetch trade history")}catch(e){console.error("Failed to fetch trades:",e),l("Network error. Please check your connection and try again.")}finally{n(!1)}};e();let s=setInterval(e,3e4);return()=>clearInterval(s)},[d,c]),c)return(0,r.jsxs)("div",{className:"flex items-center justify-center p-8",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),r.jsx("span",{className:"ml-2 text-gray-400",children:"Checking authentication..."})]});if(!d)return(0,r.jsxs)("div",{className:"text-center p-8",children:[r.jsx("p",{className:"text-red-400",children:"Authentication required to view trade history."}),r.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Please log in to continue."})]});if(s)return(0,r.jsxs)("div",{className:"flex items-center justify-center p-8",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),r.jsx("span",{className:"ml-2 text-gray-400",children:"Loading trade history..."})]});if(o)return(0,r.jsxs)("div",{className:"text-center p-8",children:[r.jsx("p",{className:"text-red-400 mb-2",children:"Error loading trade history"}),r.jsx("p",{className:"text-gray-400 text-sm",children:o}),r.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:"Retry"})]});if(0===e.length)return(0,r.jsxs)("div",{className:"text-center p-8",children:[r.jsx("p",{className:"text-gray-400",children:"No trades recorded yet."}),r.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Configure and run a trading bot to see results."})]});let u=e=>{let t=parseFloat(e),s=t>=0;return(0,r.jsxs)("span",{className:s?"text-green-400":"text-red-400",children:[s?"+":"",t.toFixed(6)]})},x=e=>{try{return new Date(e).toLocaleString()}catch{return e}},h=(e,t=50)=>e.length>t?`${e.substring(0,t)}...`:e;return r.jsx("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"min-w-full text-left text-sm whitespace-nowrap",children:[r.jsx("thead",{className:"border-b border-gray-600 text-gray-300",children:(0,r.jsxs)("tr",{children:[r.jsx("th",{scope:"col",className:"px-6 py-3",children:"Timestamp"}),r.jsx("th",{scope:"col",className:"px-6 py-3",children:"Bot Type"}),r.jsx("th",{scope:"col",className:"px-6 py-3",children:"Trade Pair"}),r.jsx("th",{scope:"col",className:"px-6 py-3",children:"Amount"}),r.jsx("th",{scope:"col",className:"px-6 py-3",children:"Profit"}),r.jsx("th",{scope:"col",className:"px-6 py-3",children:"Status"}),r.jsx("th",{scope:"col",className:"px-6 py-3",children:"Details"})]})}),r.jsx("tbody",{children:e.map(e=>(0,r.jsxs)("tr",{className:"border-b border-gray-700 hover:bg-gray-800/60",children:[r.jsx("td",{className:"px-6 py-4",children:x(e.timestamp)}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("span",{className:"capitalize bg-blue-900/50 px-2 py-1 rounded text-xs",children:e.bot_type})}),(0,r.jsxs)("td",{className:"px-6 py-4",children:[r.jsx("span",{className:"text-blue-400",children:e.token_in}),r.jsx("span",{className:"text-gray-500 mx-1",children:"→"}),r.jsx("span",{className:"text-green-400",children:e.token_out})]}),r.jsx("td",{className:"px-6 py-4",children:(0,r.jsxs)("div",{className:"text-sm",children:[(0,r.jsxs)("div",{children:[parseFloat(e.amount_in).toFixed(4)," ",e.token_in]}),(0,r.jsxs)("div",{className:"text-gray-400",children:[parseFloat(e.amount_out).toFixed(4)," ",e.token_out]})]})}),r.jsx("td",{className:"px-6 py-4",children:u(e.profit)}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("span",{className:`px-2 py-1 rounded text-xs ${"completed"===e.status?"bg-green-900/50 text-green-400":"failed"===e.status?"bg-red-900/50 text-red-400":"bg-yellow-900/50 text-yellow-400"}`,children:e.status})}),(0,r.jsxs)("td",{className:"px-6 py-4",children:[r.jsx("div",{className:"max-w-xs truncate",title:e.trade_details,children:h(e.trade_details)}),e.tx_hash&&(0,r.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["Tx: ",h(e.tx_hash,12)]})]})]},e.id))})]})})}var d=s(157);let c=({bot:e,onConfigure:t})=>(0,r.jsxs)("div",{className:"bg-gray-800/50 rounded-lg p-6 shadow-lg hover:bg-gray-700/50 transition-colors",children:[(0,r.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[r.jsx("h3",{className:"text-xl font-semibold",children:e.name}),r.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${e.isActive?"bg-green-900/50 text-green-300":e.isConfigured?"bg-yellow-900/50 text-yellow-300":"bg-gray-600 text-gray-300"}`,children:e.isActive?"● Active":e.isConfigured?"● Configured":"● Not Configured"})]}),r.jsx("p",{className:"text-gray-400 mb-4 text-sm",children:e.description}),(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("div",{className:"text-sm",children:[(0,r.jsxs)("div",{className:`font-medium ${e.profitLoss>=0?"text-green-400":"text-red-400"}`,children:[e.profitLoss>=0?"+":"","$",e.profitLoss.toFixed(2)]}),e.lastActivity&&(0,r.jsxs)("div",{className:"text-gray-500 text-xs",children:["Last: ",new Date(e.lastActivity).toLocaleDateString()]})]}),r.jsx(n.z,{onClick:()=>t(e.href),children:e.isConfigured?"Manage":"Configure"})]})]});function u(){let[e,t]=(0,a.useState)([]),[s,u]=(0,a.useState)(!0),[x,h]=(0,a.useState)(""),{user:m,logout:p}=(0,i.useAuth)(),g=(0,o.useRouter)();(0,a.useEffect)(()=>{f()},[]);let f=async()=>{try{u(!0);let e=await fetch("/api/bots",{method:"GET",credentials:"include"});if(e.ok){let s=await e.json();t(s.bots||[])}else if(401===e.status){await p(),g.push("/login");return}else h("Failed to load bot status")}catch(e){console.error("Error fetching bot status:",e),h("Network error. Please try again.")}finally{u(!1)}},y=async()=>{try{await p(),g.push("/login")}catch(e){console.error("Logout error:",e),g.push("/login")}},b=e=>{g.push(e)},j=e.length>0?e:[{id:"arbitrage",type:"arbitrage",name:"Arbitrage Bot",description:"Exploits price differences across DEXs for profit opportunities.",isActive:!1,isConfigured:!1,profitLoss:0,href:"/dashboard/arbitrage"},{id:"copy-trader",type:"copy-trader",name:"Copy-Trading Bot",description:"Mirrors trades from successful wallet addresses.",isActive:!1,isConfigured:!1,profitLoss:0,href:"/dashboard/copy-trader"},{id:"sandwich",type:"sandwich",name:"MEV Bot (Advanced)",description:"Advanced MEV extraction strategies for experienced users.",isActive:!1,isConfigured:!1,profitLoss:0,href:"/dashboard/sandwich"}];return r.jsx(d.Z,{children:(0,r.jsxs)("div",{className:"min-h-screen bg-gray-900 text-white p-8",children:[(0,r.jsxs)("header",{className:"flex justify-between items-center mb-10",children:[(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-3xl font-bold",children:"Trading Bot Dashboard"}),m&&(0,r.jsxs)("p",{className:"text-gray-400 mt-1",children:["Welcome back, ",m.email]})]}),r.jsx(n.z,{onClick:y,children:"Logout"})]}),(0,r.jsxs)("main",{children:[x&&(0,r.jsxs)("div",{className:"mb-8 p-4 bg-red-900/50 border border-red-500 rounded-md",children:[r.jsx("p",{className:"text-red-200",role:"alert",children:x}),r.jsx(n.z,{onClick:f,className:"mt-2 text-sm",children:"Retry"})]}),s?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-12",children:[1,2,3].map(e=>(0,r.jsxs)("div",{className:"bg-gray-800/50 rounded-lg p-6 shadow-lg animate-pulse",children:[r.jsx("div",{className:"h-6 bg-gray-700 rounded mb-4"}),r.jsx("div",{className:"h-4 bg-gray-700 rounded mb-2"}),r.jsx("div",{className:"h-4 bg-gray-700 rounded mb-4"}),(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[r.jsx("div",{className:"h-4 bg-gray-700 rounded w-16"}),r.jsx("div",{className:"h-8 bg-gray-700 rounded w-20"})]})]},e))}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-12",children:j.map(e=>r.jsx(c,{bot:e,onConfigure:b},e.id))}),(0,r.jsxs)("div",{className:"bg-gray-800/50 rounded-lg p-6",children:[r.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Performance Analytics"}),r.jsx(l,{})]})]})]})})}},157:(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});var r=s(2610),a=s(7933),n=s(3943),i=s(7848);function o({children:e}){let{isAuthenticated:t,isLoading:s}=(0,i.useAuth)(),o=(0,n.useRouter)();return((0,a.useEffect)(()=>{s||t||o.replace("/login")},[t,s,o]),s)?r.jsx("div",{className:"min-h-screen bg-gray-900 text-white flex items-center justify-center",children:(0,r.jsxs)("div",{className:"flex flex-col items-center space-y-4",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"}),r.jsx("p",{className:"text-gray-400",children:"Verifying authentication..."})]})}):t?r.jsx(r.Fragment,{children:e}):null}},7848:(e,t,s)=>{"use strict";s.r(t),s.d(t,{AuthProvider:()=>i,useAuth:()=>o});var r=s(2610),a=s(7933);let n=(0,a.createContext)(void 0),i=({children:e})=>{let[t,s]=(0,a.useState)(null),[i,o]=(0,a.useState)(!1),[l,d]=(0,a.useState)(!0),c=async()=>{try{let e=await fetch("/api/auth/me",{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}});if(e.ok){let t=await e.json();t.success&&t.user?(s(t.user),o(!0)):(s(null),o(!1))}else s(null),o(!1)}catch(e){console.error("Auth check failed:",e),s(null),o(!1)}finally{d(!1)}},u=async(e,t)=>{try{if(d(!0),!e||!t)return{success:!1,message:"Email and password are required"};if(!e.includes("@")||e.length<5)return{success:!1,message:"Please enter a valid email address"};if(t.length<8)return{success:!1,message:"Password must be at least 8 characters"};let r=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:e.toLowerCase().trim(),password:t})}),a=await r.json();if(r.ok&&a.success)return s(a.user),o(!0),{success:!0};return s(null),o(!1),{success:!1,message:a.message||"Login failed. Please check your credentials."}}catch(e){return console.error("Login error:",e),s(null),o(!1),{success:!1,message:"Network error. Please check your connection and try again."}}finally{d(!1)}},x=async()=>{try{await fetch("/api/auth/logout",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"}})}catch(e){console.error("Logout error:",e)}finally{s(null),o(!1)}};return(0,a.useEffect)(()=>{c();let e=()=>{"visible"===document.visibilityState&&i&&c()};return document.addEventListener("visibilitychange",e),()=>document.removeEventListener("visibilitychange",e)},[]),(0,a.useEffect)(()=>{if(!i)return;let e=setInterval(()=>{c()},3e5);return()=>clearInterval(e)},[i]),r.jsx(n.Provider,{value:{user:t,isAuthenticated:i,isLoading:l,login:u,logout:x,checkAuth:c},children:e})},o=()=>{let e=(0,a.useContext)(n);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},3943:(e,t,s)=>{"use strict";var r=s(8740);s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}})},7408:(e,t,s)=>{"use strict";s.d(t,{z:()=>a});var r=s(2610);function a({children:e,className:t="",...s}){return r.jsx("button",{className:`px-5 py-2.5 text-base cursor-pointer bg-blue-600 text-white border-0 rounded-md hover:bg-blue-700 transition-colors ${t}`,...s,children:e})}s(7933)},3448:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>n,__esModule:()=>a,default:()=>i});let r=(0,s(970).createProxy)(String.raw`C:\Users\User1\Downloads\TradingBot\apps\frontend\src\app\dashboard\page.tsx`),{__esModule:a,$$typeof:n}=r,i=r.default},6573:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>x,metadata:()=>u});var r=s(9127),a=s(7883),n=s.n(a);s(9780);var i=s(970);let o=(0,i.createProxy)(String.raw`C:\Users\User1\Downloads\TradingBot\apps\frontend\src\context\AuthContext.tsx`),{__esModule:l,$$typeof:d}=o;o.default;let c=(0,i.createProxy)(String.raw`C:\Users\User1\Downloads\TradingBot\apps\frontend\src\context\AuthContext.tsx#AuthProvider`);(0,i.createProxy)(String.raw`C:\Users\User1\Downloads\TradingBot\apps\frontend\src\context\AuthContext.tsx#useAuth`);let u={title:"Trading Bot Control Panel",description:"Manage your multi-chain trading bots with advanced risk management and analytics.",viewport:"width=device-width, initial-scale=1",robots:"noindex, nofollow",authors:[{name:"Trading Bot Team"}]};function x({children:e}){return r.jsx("html",{lang:"en",children:r.jsx("body",{className:n().className,children:r.jsx(c,{children:e})})})}},9780:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[807,245],()=>s(8762));module.exports=r})();