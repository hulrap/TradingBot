(()=>{var e={};e.id=702,e.ids=[702],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},971:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>p,originalPathname:()=>x,pages:()=>c,routeModule:()=>u,tree:()=>o});var r=t(3373),a=t(8285),i=t(3917),n=t.n(i),l=t(115),d={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>l[e]);t.d(s,d);let o=["",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,2205)),"C:\\Users\\User1\\Downloads\\TradingBot\\apps\\frontend\\src\\app\\dashboard\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,1713)),"C:\\Users\\User1\\Downloads\\TradingBot\\apps\\frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,3393,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\User1\\Downloads\\TradingBot\\apps\\frontend\\src\\app\\dashboard\\page.tsx"],x="/dashboard/page",p={require:t,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/dashboard/page",pathname:"/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},4142:(e,s,t)=>{Promise.resolve().then(t.bind(t,9010))},9010:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>x});var r=t(9261),a=t(345),i=t(576),n=t(5331),l=t(7234);function d(){let[e,s]=(0,a.useState)([]),[t,i]=(0,a.useState)(!0),[l,d]=(0,a.useState)(null),{isAuthenticated:o,isLoading:c}=(0,n.useAuth)();if((0,a.useEffect)(()=>{if(c||!o){i(!1);return}let e=async()=>{try{i(!0),d(null);let e=await fetch("/api/trades",{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}});if(!e.ok){if(401===e.status){d("Authentication required. Please log in again.");return}if(403===e.status){d("Access denied. You do not have permission to view trades.");return}throw Error(`HTTP error! status: ${e.status}`)}let t=await e.json();t.success&&t.data?s(t.data):d(t.message||"Failed to fetch trade history")}catch(e){console.error("Failed to fetch trades:",e),d("Network error. Please check your connection and try again.")}finally{i(!1)}};e();let t=setInterval(e,3e4);return()=>clearInterval(t)},[o,c]),c)return(0,r.jsxs)("div",{className:"flex items-center justify-center p-8",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),r.jsx("span",{className:"ml-2 text-gray-400",children:"Checking authentication..."})]});if(!o)return(0,r.jsxs)("div",{className:"text-center p-8",children:[r.jsx("p",{className:"text-red-400",children:"Authentication required to view trade history."}),r.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Please log in to continue."})]});if(t)return(0,r.jsxs)("div",{className:"flex items-center justify-center p-8",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),r.jsx("span",{className:"ml-2 text-gray-400",children:"Loading trade history..."})]});if(l)return(0,r.jsxs)("div",{className:"text-center p-8",children:[r.jsx("p",{className:"text-red-400 mb-2",children:"Error loading trade history"}),r.jsx("p",{className:"text-gray-400 text-sm",children:l}),r.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:"Retry"})]});if(0===e.length)return(0,r.jsxs)("div",{className:"text-center p-8",children:[r.jsx("p",{className:"text-gray-400",children:"No trades recorded yet."}),r.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Configure and run a trading bot to see results."})]});let x=e=>{let s=parseFloat(e),t=s>=0;return(0,r.jsxs)("span",{className:t?"text-green-400":"text-red-400",children:[t?"+":"",s.toFixed(6)]})},p=e=>{try{return new Date(e).toLocaleString()}catch{return e}},u=(e,s=50)=>e.length>s?`${e.substring(0,s)}...`:e;return r.jsx("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"min-w-full text-left text-sm whitespace-nowrap",children:[r.jsx("thead",{className:"border-b border-gray-600 text-gray-300",children:(0,r.jsxs)("tr",{children:[r.jsx("th",{scope:"col",className:"px-6 py-3",children:"Timestamp"}),r.jsx("th",{scope:"col",className:"px-6 py-3",children:"Bot Type"}),r.jsx("th",{scope:"col",className:"px-6 py-3",children:"Trade Pair"}),r.jsx("th",{scope:"col",className:"px-6 py-3",children:"Amount"}),r.jsx("th",{scope:"col",className:"px-6 py-3",children:"Profit"}),r.jsx("th",{scope:"col",className:"px-6 py-3",children:"Status"}),r.jsx("th",{scope:"col",className:"px-6 py-3",children:"Details"})]})}),r.jsx("tbody",{children:e.map(e=>(0,r.jsxs)("tr",{className:"border-b border-gray-700 hover:bg-gray-800/60",children:[r.jsx("td",{className:"px-6 py-4",children:p(e.timestamp)}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("span",{className:"capitalize bg-blue-900/50 px-2 py-1 rounded text-xs",children:e.bot_type})}),(0,r.jsxs)("td",{className:"px-6 py-4",children:[r.jsx("span",{className:"text-blue-400",children:e.token_in}),r.jsx("span",{className:"text-gray-500 mx-1",children:"→"}),r.jsx("span",{className:"text-green-400",children:e.token_out})]}),r.jsx("td",{className:"px-6 py-4",children:(0,r.jsxs)("div",{className:"text-sm",children:[(0,r.jsxs)("div",{children:[parseFloat(e.amount_in).toFixed(4)," ",e.token_in]}),(0,r.jsxs)("div",{className:"text-gray-400",children:[parseFloat(e.amount_out).toFixed(4)," ",e.token_out]})]})}),r.jsx("td",{className:"px-6 py-4",children:x(e.profit)}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("span",{className:`px-2 py-1 rounded text-xs ${"completed"===e.status?"bg-green-900/50 text-green-400":"failed"===e.status?"bg-red-900/50 text-red-400":"bg-yellow-900/50 text-yellow-400"}`,children:e.status})}),(0,r.jsxs)("td",{className:"px-6 py-4",children:[r.jsx("div",{className:"max-w-xs truncate",title:e.trade_details,children:u(e.trade_details)}),e.tx_hash&&(0,r.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["Tx: ",u(e.tx_hash,12)]})]})]},e.id))})]})})}var o=t(62);let c=({bot:e,onConfigure:s})=>(0,r.jsxs)("div",{className:"bg-gray-800/50 rounded-lg p-6 shadow-lg hover:bg-gray-700/50 transition-colors",children:[(0,r.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[r.jsx("h3",{className:"text-xl font-semibold",children:e.name}),r.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${e.isActive?"bg-green-900/50 text-green-300":e.isConfigured?"bg-yellow-900/50 text-yellow-300":"bg-gray-600 text-gray-300"}`,children:e.isActive?"● Active":e.isConfigured?"● Configured":"● Not Configured"})]}),r.jsx("p",{className:"text-gray-400 mb-4 text-sm",children:e.description}),(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("div",{className:"text-sm",children:[(0,r.jsxs)("div",{className:`font-medium ${e.profitLoss>=0?"text-green-400":"text-red-400"}`,children:[e.profitLoss>=0?"+":"","$",e.profitLoss.toFixed(2)]}),e.lastActivity&&(0,r.jsxs)("div",{className:"text-gray-500 text-xs",children:["Last: ",new Date(e.lastActivity).toLocaleDateString()]})]}),r.jsx(i.zx,{onClick:()=>s(e.href),children:e.isConfigured?"Manage":"Configure"})]})]});function x(){let[e,s]=(0,a.useState)([]),[t,x]=(0,a.useState)(!0),[p,u]=(0,a.useState)(""),{user:h,logout:m}=(0,n.useAuth)(),g=(0,l.useRouter)();(0,a.useEffect)(()=>{y()},[]);let y=async()=>{try{x(!0);let e=await fetch("/api/bots",{method:"GET",credentials:"include"});if(e.ok){let t=await e.json();s(t.bots||[])}else if(401===e.status){await m(),g.push("/login");return}else u("Failed to load bot status")}catch(e){console.error("Error fetching bot status:",e),u("Network error. Please try again.")}finally{x(!1)}},f=async()=>{try{await m(),g.push("/login")}catch(e){console.error("Logout error:",e),g.push("/login")}},j=e=>{g.push(e)},b=e.length>0?e:[{id:"arbitrage",type:"arbitrage",name:"Arbitrage Bot",description:"Exploits price differences across DEXs for profit opportunities.",isActive:!1,isConfigured:!1,profitLoss:0,href:"/dashboard/arbitrage"},{id:"copy-trader",type:"copy-trader",name:"Copy-Trading Bot",description:"Mirrors trades from successful wallet addresses.",isActive:!1,isConfigured:!1,profitLoss:0,href:"/dashboard/copy-trader"},{id:"sandwich",type:"sandwich",name:"MEV Bot (Advanced)",description:"Advanced MEV extraction strategies for experienced users.",isActive:!1,isConfigured:!1,profitLoss:0,href:"/dashboard/sandwich"}];return r.jsx(o.Z,{children:(0,r.jsxs)("div",{className:"min-h-screen bg-gray-900 text-white p-8",children:[(0,r.jsxs)("header",{className:"flex justify-between items-center mb-10",children:[(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-3xl font-bold",children:"Trading Bot Dashboard"}),h&&(0,r.jsxs)("p",{className:"text-gray-400 mt-1",children:["Welcome back, ",h.email]})]}),r.jsx(i.zx,{onClick:f,children:"Logout"})]}),(0,r.jsxs)("main",{children:[p&&(0,r.jsxs)("div",{className:"mb-8 p-4 bg-red-900/50 border border-red-500 rounded-md",children:[r.jsx("p",{className:"text-red-200",role:"alert",children:p}),r.jsx(i.zx,{onClick:y,className:"mt-2 text-sm",children:"Retry"})]}),t?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-12",children:[1,2,3].map(e=>(0,r.jsxs)("div",{className:"bg-gray-800/50 rounded-lg p-6 shadow-lg animate-pulse",children:[r.jsx("div",{className:"h-6 bg-gray-700 rounded mb-4"}),r.jsx("div",{className:"h-4 bg-gray-700 rounded mb-2"}),r.jsx("div",{className:"h-4 bg-gray-700 rounded mb-4"}),(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[r.jsx("div",{className:"h-4 bg-gray-700 rounded w-16"}),r.jsx("div",{className:"h-8 bg-gray-700 rounded w-20"})]})]},e))}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-12",children:b.map(e=>r.jsx(c,{bot:e,onConfigure:j},e.id))}),(0,r.jsxs)("div",{className:"bg-gray-800/50 rounded-lg p-6",children:[r.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Performance Analytics"}),r.jsx(d,{})]})]})]})})}},62:(e,s,t)=>{"use strict";t.d(s,{Z:()=>l});var r=t(9261),a=t(345),i=t(7234),n=t(5331);function l({children:e}){let{isAuthenticated:s,isLoading:t}=(0,n.useAuth)(),l=(0,i.useRouter)();return((0,a.useEffect)(()=>{t||s||l.replace("/login")},[s,t,l]),t)?r.jsx("div",{className:"min-h-screen bg-gray-900 text-white flex items-center justify-center",children:(0,r.jsxs)("div",{className:"flex flex-col items-center space-y-4",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"}),r.jsx("p",{className:"text-gray-400",children:"Verifying authentication..."})]})}):s?r.jsx(r.Fragment,{children:e}):null}},2205:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>i,__esModule:()=>a,default:()=>n});let r=(0,t(627).createProxy)(String.raw`C:\Users\User1\Downloads\TradingBot\apps\frontend\src\app\dashboard\page.tsx`),{__esModule:a,$$typeof:i}=r,n=r.default}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[308,452,217],()=>t(971));module.exports=r})();